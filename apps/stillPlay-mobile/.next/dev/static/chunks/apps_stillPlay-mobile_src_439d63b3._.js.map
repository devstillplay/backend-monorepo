{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-mobile/src/components/MobileFrame.tsx"],"sourcesContent":["import { ReactNode } from \"react\";\n\nexport default function MobileFrame({ children }: { children: ReactNode }) {\n  return (\n    <div className=\"app-root\" suppressHydrationWarning>\n      {children}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAEe,SAAS,YAAY,EAAE,QAAQ,EAA2B;IACvE,qBACE,4NAAC;QAAI,WAAU;QAAW,wBAAwB;kBAC/C;;;;;;AAGP;KANwB"}},
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-mobile/src/lib/env.ts"],"sourcesContent":["const baseUrl =\n  process.env.NODE_ENV === \"development\"\n    ? \"http://localhost:3000/api\"\n    : \"https://api-gateway-production-dab1.up.railway.app/api\";\n\nexport function getBaseUrl(): string {\n  return baseUrl;\n}\n\nexport function requireBaseUrl(): void {\n  if (!getBaseUrl()) {\n    throw new Error(\n      \"API URL not configured. Set NEXT_PUBLIC_API_BASE_URL in .env.local.\"\n    );\n  }\n}\n\nexport const endpoints = {\n  auth: {\n    requestCode: () => `${getBaseUrl()}/auth/request-code`,\n    verifyCode: () => `${getBaseUrl()}/auth/verify-code`,\n    login: () => `${getBaseUrl()}/auth/login`,\n    register: () => `${getBaseUrl()}/auth/register`,\n    forgotPassword: () => `${getBaseUrl()}/auth/forgot-password`,\n    resetPassword: () => `${getBaseUrl()}/auth/reset-password`,\n  },\n  user: {\n    profile: () => `${getBaseUrl()}/user`,\n  },\n  loans: {\n    wallet: (userId: string) => `${getBaseUrl()}/loans/wallet/${userId}`,\n    list: (userId: string) => `${getBaseUrl()}/loans/list/${userId}`,\n    repayments: (userId: string) => `${getBaseUrl()}/loans/repayments/${userId}`,\n    eligibility: (userId: string) => `${getBaseUrl()}/loans/eligibility/${userId}`,\n    request: () => `${getBaseUrl()}/loans/request`,\n    repay: () => `${getBaseUrl()}/loans/repay`,\n  },\n  files: {\n    upload: () => `${getBaseUrl()}/files/upload`,\n  },\n} as const;\n"],"names":[],"mappings":";;;;;;;;AACE;AADF,MAAM,UACJ,uCACI,8BACA;AAEC,SAAS;IACd,OAAO;AACT;AAEO,SAAS;IACd,IAAI,CAAC;;AAKP;AAEO,MAAM,YAAY;IACvB,MAAM;QACJ,aAAa,IAAM,GAAG,aAAa,kBAAkB,CAAC;QACtD,YAAY,IAAM,GAAG,aAAa,iBAAiB,CAAC;QACpD,OAAO,IAAM,GAAG,aAAa,WAAW,CAAC;QACzC,UAAU,IAAM,GAAG,aAAa,cAAc,CAAC;QAC/C,gBAAgB,IAAM,GAAG,aAAa,qBAAqB,CAAC;QAC5D,eAAe,IAAM,GAAG,aAAa,oBAAoB,CAAC;IAC5D;IACA,MAAM;QACJ,SAAS,IAAM,GAAG,aAAa,KAAK,CAAC;IACvC;IACA,OAAO;QACL,QAAQ,CAAC,SAAmB,GAAG,aAAa,cAAc,EAAE,QAAQ;QACpE,MAAM,CAAC,SAAmB,GAAG,aAAa,YAAY,EAAE,QAAQ;QAChE,YAAY,CAAC,SAAmB,GAAG,aAAa,kBAAkB,EAAE,QAAQ;QAC5E,aAAa,CAAC,SAAmB,GAAG,aAAa,mBAAmB,EAAE,QAAQ;QAC9E,SAAS,IAAM,GAAG,aAAa,cAAc,CAAC;QAC9C,OAAO,IAAM,GAAG,aAAa,YAAY,CAAC;IAC5C;IACA,OAAO;QACL,QAAQ,IAAM,GAAG,aAAa,aAAa,CAAC;IAC9C;AACF"}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file:///Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-mobile/src/lib/api.ts"],"sourcesContent":["import { endpoints } from \"./env\";\nimport useAuthStore from \"../store/useAuthStore\";\n\n/**\n * Decode a JWT payload without verifying the signature.\n * Returns null if the token is malformed.\n */\nfunction decodeJwtPayload(token: string): Record<string, unknown> | null {\n  try {\n    const part = token.split(\".\")[1];\n    if (!part) return null;\n    const json = atob(part.replace(/-/g, \"+\").replace(/_/g, \"/\"));\n    return JSON.parse(json) as Record<string, unknown>;\n  } catch {\n    return null;\n  }\n}\n\n/** Returns true if the JWT is missing, malformed, or its `exp` has passed. */\nexport function isTokenExpired(token: string | null | undefined): boolean {\n  if (!token) return true;\n  const payload = decodeJwtPayload(token);\n  if (!payload) return true;\n  const exp = payload.exp;\n  if (typeof exp !== \"number\") return false; // no expiry claim → treat as valid\n  return Date.now() >= exp * 1000;\n}\n\n/**\n * Extract basic identity fields from a JWT without making an API call.\n * Returns null if the token is missing or malformed.\n */\nexport function decodeToken(token: string | null | undefined): {\n  userId: string;\n  email: string;\n  role: string;\n  verified: boolean;\n} | null {\n  if (!token) return null;\n  const payload = decodeJwtPayload(token);\n  if (!payload) return null;\n  return {\n    userId: (payload.userId ?? payload.sub ?? \"\") as string,\n    email: (payload.email ?? \"\") as string,\n    role: (payload.role ?? \"Customer\") as string,\n    verified: Boolean(payload.verified),\n  };\n}\n\nfunction getAuthHeaders(token?: string | null): HeadersInit {\n  const headers: HeadersInit = { \"Content-Type\": \"application/json\" };\n  if (token) {\n    (headers as Record<string, string>)[\"Authorization\"] = `Bearer ${token}`;\n  }\n  return headers;\n}\n\nfunction handleAuthError(res: Response): void {\n  if (res.status === 401) {\n    useAuthStore.getState().reset();\n  }\n}\n\nexport type LoginPayload = {\n  email: string;\n  password: string;\n};\n\nexport type LoginResponse = {\n  token: string;\n  user?: {\n    id: string;\n    email: string;\n    role: string;\n    firstName?: string;\n    lastName?: string;\n    picture?: string | null;\n  };\n};\n\nexport async function login(payload: LoginPayload): Promise<LoginResponse> {\n  const res = await fetch(endpoints.auth.login(), {\n    method: \"POST\",\n    headers: getAuthHeaders(),\n    body: JSON.stringify(payload),\n  });\n  const data = await res.json().catch(() => ({}));\n  handleAuthError(res);\n  if (!res.ok) {\n    throw new Error(\n      typeof data.message === \"string\"\n        ? data.message\n        : Array.isArray(data.message)\n          ? data.message[0]\n          : \"Invalid email or password\"\n    );\n  }\n  return data as LoginResponse;\n}\n\nexport type UserProfileResponse = {\n  id: string;\n  email: string;\n  role: string;\n  firstName?: string;\n  lastName?: string;\n  picture?: string | null;\n  verified?: boolean;\n  nin?: string | null;\n  ninSlip?: string | null;\n  userNumber?: string;\n  createdAt?: string;\n};\n\nexport type WalletResponse = {\n  id: string;\n  userId: string;\n  balance: number;\n  currency?: string;\n};\n\nexport type LoanStatus =\n  | \"PENDING\"\n  | \"APPROVED\"\n  | \"DISBURSED\"\n  | \"REPAID\"\n  | \"REJECTED\";\n\nexport type LoanItem = {\n  id: string;\n  userId: string;\n  amount: number;\n  amountRepaid: number;\n  purpose?: string;\n  status: LoanStatus;\n  dueDate?: string | null;\n  approvedAt?: string | null;\n  disbursedAt?: string | null;\n  repaidAt?: string | null;\n  createdAt: string;\n  updatedAt?: string;\n};\n\n/** Fetch the authenticated user's full profile. Requires a valid token. */\nexport async function getProfile(token: string): Promise<UserProfileResponse> {\n  const res = await fetch(endpoints.user.profile(), {\n    headers: getAuthHeaders(token),\n  });\n  const data = await res.json().catch(() => ({}));\n  handleAuthError(res);\n  if (!res.ok) {\n    throw new Error(\n      typeof data.message === \"string\" ? data.message : \"Failed to load profile\"\n    );\n  }\n  // Response shape: { message: string, user: UserProfileResponse }\n  const profile = (data as { user?: UserProfileResponse }).user ?? data;\n  return profile as UserProfileResponse;\n}\n\n/** Fetch a user's wallet balance by userId. */\nexport async function getWallet(\n  token: string,\n  userId: string\n): Promise<WalletResponse> {\n  const res = await fetch(endpoints.loans.wallet(userId), {\n    headers: getAuthHeaders(token),\n  });\n  const data = await res.json().catch(() => ({}));\n  handleAuthError(res);\n  if (!res.ok) {\n    throw new Error(\n      typeof data.message === \"string\" ? data.message : \"Failed to load wallet\"\n    );\n  }\n  return data as WalletResponse;\n}\n\n/** Fetch a user's loan history by userId. */\nexport async function listLoans(\n  token: string,\n  userId: string\n): Promise<LoanItem[]> {\n  const res = await fetch(endpoints.loans.list(userId), {\n    headers: getAuthHeaders(token),\n  });\n  const data = await res.json().catch(() => ({}));\n  handleAuthError(res);\n  if (!res.ok) {\n    throw new Error(\n      typeof data.message === \"string\" ? data.message : \"Failed to load loans\"\n    );\n  }\n  // Response shape from loan-service: { loans: LoanItem[] }\n  if (Array.isArray(data)) return data;\n  const nested = data as { loans?: LoanItem[]; data?: LoanItem[] };\n  return nested.loans ?? nested.data ?? [];\n}\n\nexport type RepaymentItem = {\n  id: string;\n  loanId: string;\n  userId: string;\n  amount: number;\n  repaidAt: string;\n};\n\nexport type LoanEligibility = {\n  canRequest: boolean;\n  maxAmount: number;\n  availableAmount: number;\n  totalOutstanding?: number;\n  reason?: string;\n  activeLoan?: {\n    id: string;\n    status: string;\n    amount: number;\n    amountRepaid: number;\n    remaining: number;\n  } | null;\n};\n\n/** Check if a user is eligible to request a loan and how much they can borrow. */\nexport async function getLoanEligibility(\n  token: string,\n  userId: string\n): Promise<LoanEligibility> {\n  const res = await fetch(endpoints.loans.eligibility(userId), {\n    headers: getAuthHeaders(token),\n  });\n  const data = await res.json().catch(() => ({}));\n  handleAuthError(res);\n  if (!res.ok) {\n    throw new Error(\n      typeof data.message === \"string\" ? data.message : \"Failed to check eligibility\"\n    );\n  }\n  return data as LoanEligibility;\n}\n\n/** Submit a loan request for the authenticated user. */\nexport async function requestLoan(\n  token: string,\n  payload: { userId: string; amount: number; purpose?: string }\n): Promise<{ message: string; loan: LoanItem }> {\n  const res = await fetch(endpoints.loans.request(), {\n    method: \"POST\",\n    headers: getAuthHeaders(token),\n    body: JSON.stringify(payload),\n  });\n  const data = await res.json().catch(() => ({}));\n  handleAuthError(res);\n  if (!res.ok) {\n    throw new Error(\n      typeof data.message === \"string\"\n        ? data.message\n        : Array.isArray(data.message)\n          ? data.message[0]\n          : \"Failed to submit loan request\"\n    );\n  }\n  return data as { message: string; loan: LoanItem };\n}\n\n// ─── Registration ──────────────────────────────────────────────────────────────\n\n/** Direct registration — creates user immediately without OTP. User starts unverified. */\nexport async function registerUser(\n  payload: {\n    email: string;\n    password: string;\n    firstName: string;\n    lastName: string;\n    nin: string;\n    picture?: string | null;\n    ninSlip?: string | null;\n  }\n): Promise<{ message: string; user: { id: string; email: string; firstName: string; lastName: string; userNumber?: string } }> {\n  const res = await fetch(endpoints.auth.register(), {\n    method: \"POST\",\n    headers: getAuthHeaders(),\n    body: JSON.stringify(payload),\n  });\n  const data = await res.json().catch(() => ({}));\n  if (!res.ok) {\n    throw new Error(\n      typeof data.message === \"string\"\n        ? data.message\n        : Array.isArray(data.message)\n          ? data.message[0]\n          : \"Registration failed\"\n    );\n  }\n  return data as { message: string; user: { id: string; email: string; firstName: string; lastName: string; userNumber?: string } };\n}\n\nexport type RegisterCodePayload = {\n  email: string;\n  password: string;\n  firstName: string;\n  lastName: string;\n  nin: string;\n  picture?: string | null;\n  ninSlip?: string | null;\n};\n\n/** Step 1 of register: store pending registration, send OTP to email. */\nexport async function requestRegisterCode(\n  payload: RegisterCodePayload\n): Promise<{ message: string }> {\n  const res = await fetch(endpoints.auth.requestCode(), {\n    method: \"POST\",\n    headers: getAuthHeaders(),\n    body: JSON.stringify({ type: \"register\", ...payload }),\n  });\n  const data = await res.json().catch(() => ({}));\n  if (!res.ok) {\n    throw new Error(\n      typeof data.message === \"string\"\n        ? data.message\n        : Array.isArray(data.message)\n          ? data.message[0]\n          : \"Failed to send verification code\"\n    );\n  }\n  return data as { message: string };\n}\n\n/** Step 2: verify OTP (type 'login' or 'register'). Returns JWT + user. */\nexport async function verifyCode(payload: {\n  type: \"login\" | \"register\";\n  email: string;\n  code: string;\n}): Promise<{\n  message: string;\n  token: string;\n  user?: {\n    id: string;\n    email: string;\n    role: string;\n    firstName?: string;\n    lastName?: string;\n    picture?: string | null;\n    verified?: boolean;\n  };\n}> {\n  const res = await fetch(endpoints.auth.verifyCode(), {\n    method: \"POST\",\n    headers: getAuthHeaders(),\n    body: JSON.stringify(payload),\n  });\n  const data = await res.json().catch(() => ({}));\n  handleAuthError(res);\n  if (!res.ok) {\n    throw new Error(\n      typeof data.message === \"string\"\n        ? data.message\n        : Array.isArray(data.message)\n          ? data.message[0]\n          : \"Invalid or expired code\"\n    );\n  }\n  return data as {\n    message: string;\n    token: string;\n    user?: { id: string; email: string; role: string; firstName?: string; lastName?: string; picture?: string | null; verified?: boolean };\n  };\n}\n\n/** Upload an image file to Cloudinary via the file-service. Returns the secure URL. */\nexport async function uploadImage(\n  file: File,\n  options?: { folder?: string; token?: string | null }\n): Promise<{ url: string; secureUrl: string; publicId?: string }> {\n  const formData = new FormData();\n  formData.append(\"file\", file);\n  if (options?.folder) formData.append(\"folder\", options.folder);\n  const headers: HeadersInit = {};\n  if (options?.token) {\n    (headers as Record<string, string>)[\"Authorization\"] = `Bearer ${options.token}`;\n  }\n  const res = await fetch(endpoints.files.upload(), {\n    method: \"POST\",\n    headers,\n    body: formData,\n  });\n  const data = await res.json().catch(() => ({}));\n  if (!res.ok) {\n    throw new Error(\n      typeof data.message === \"string\"\n        ? data.message\n        : (data as { error?: string }).error ?? \"Upload failed\"\n    );\n  }\n  return data as { url: string; secureUrl: string; publicId?: string };\n}\n\n/** Record a loan repayment. Called after a successful BudPay payment. */\nexport async function recordLoanRepayment(\n  token: string,\n  payload: { loanId: string; amount: number }\n): Promise<{ message: string; loan: LoanItem }> {\n  const res = await fetch(endpoints.loans.repay(), {\n    method: \"POST\",\n    headers: getAuthHeaders(token),\n    body: JSON.stringify(payload),\n  });\n  const data = await res.json().catch(() => ({}));\n  handleAuthError(res);\n  if (!res.ok) {\n    throw new Error(\n      typeof data.message === \"string\"\n        ? data.message\n        : Array.isArray(data.message)\n          ? data.message[0]\n          : \"Failed to record repayment\"\n    );\n  }\n  return data as { message: string; loan: LoanItem };\n}\n\n/** Fetch a user's repayment transactions by userId. */\nexport async function listUserRepayments(\n  token: string,\n  userId: string\n): Promise<RepaymentItem[]> {\n  const res = await fetch(endpoints.loans.repayments(userId), {\n    headers: getAuthHeaders(token),\n  });\n  const data = await res.json().catch(() => ({}));\n  handleAuthError(res);\n  if (!res.ok) {\n    throw new Error(\n      typeof data.message === \"string\"\n        ? data.message\n        : \"Failed to load repayments\"\n    );\n  }\n  // Response shape: { userId, repayments: [...] }\n  const raw = data as { repayments?: RepaymentItem[] } | RepaymentItem[];\n  return Array.isArray(raw) ? raw : (raw.repayments ?? []);\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;;;AAEA;;;CAGC,GACD,SAAS,iBAAiB,KAAa;IACrC,IAAI;QACF,MAAM,OAAO,MAAM,KAAK,CAAC,IAAI,CAAC,EAAE;QAChC,IAAI,CAAC,MAAM,OAAO;QAClB,MAAM,OAAO,KAAK,KAAK,OAAO,CAAC,MAAM,KAAK,OAAO,CAAC,MAAM;QACxD,OAAO,KAAK,KAAK,CAAC;IACpB,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAGO,SAAS,eAAe,KAAgC;IAC7D,IAAI,CAAC,OAAO,OAAO;IACnB,MAAM,UAAU,iBAAiB;IACjC,IAAI,CAAC,SAAS,OAAO;IACrB,MAAM,MAAM,QAAQ,GAAG;IACvB,IAAI,OAAO,QAAQ,UAAU,OAAO,OAAO,mCAAmC;IAC9E,OAAO,KAAK,GAAG,MAAM,MAAM;AAC7B;AAMO,SAAS,YAAY,KAAgC;IAM1D,IAAI,CAAC,OAAO,OAAO;IACnB,MAAM,UAAU,iBAAiB;IACjC,IAAI,CAAC,SAAS,OAAO;IACrB,OAAO;QACL,QAAS,QAAQ,MAAM,IAAI,QAAQ,GAAG,IAAI;QAC1C,OAAQ,QAAQ,KAAK,IAAI;QACzB,MAAO,QAAQ,IAAI,IAAI;QACvB,UAAU,QAAQ,QAAQ,QAAQ;IACpC;AACF;AAEA,SAAS,eAAe,KAAqB;IAC3C,MAAM,UAAuB;QAAE,gBAAgB;IAAmB;IAClE,IAAI,OAAO;QACR,OAAkC,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,OAAO;IAC1E;IACA,OAAO;AACT;AAEA,SAAS,gBAAgB,GAAa;IACpC,IAAI,IAAI,MAAM,KAAK,KAAK;QACtB,yKAAY,CAAC,QAAQ,GAAG,KAAK;IAC/B;AACF;AAmBO,eAAe,MAAM,OAAqB;IAC/C,MAAM,MAAM,MAAM,MAAM,gKAAS,CAAC,IAAI,CAAC,KAAK,IAAI;QAC9C,QAAQ;QACR,SAAS;QACT,MAAM,KAAK,SAAS,CAAC;IACvB;IACA,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;IAC7C,gBAAgB;IAChB,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MACR,OAAO,KAAK,OAAO,KAAK,WACpB,KAAK,OAAO,GACZ,MAAM,OAAO,CAAC,KAAK,OAAO,IACxB,KAAK,OAAO,CAAC,EAAE,GACf;IAEV;IACA,OAAO;AACT;AA8CO,eAAe,WAAW,KAAa;IAC5C,MAAM,MAAM,MAAM,MAAM,gKAAS,CAAC,IAAI,CAAC,OAAO,IAAI;QAChD,SAAS,eAAe;IAC1B;IACA,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;IAC7C,gBAAgB;IAChB,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MACR,OAAO,KAAK,OAAO,KAAK,WAAW,KAAK,OAAO,GAAG;IAEtD;IACA,iEAAiE;IACjE,MAAM,UAAU,AAAC,KAAwC,IAAI,IAAI;IACjE,OAAO;AACT;AAGO,eAAe,UACpB,KAAa,EACb,MAAc;IAEd,MAAM,MAAM,MAAM,MAAM,gKAAS,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS;QACtD,SAAS,eAAe;IAC1B;IACA,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;IAC7C,gBAAgB;IAChB,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MACR,OAAO,KAAK,OAAO,KAAK,WAAW,KAAK,OAAO,GAAG;IAEtD;IACA,OAAO;AACT;AAGO,eAAe,UACpB,KAAa,EACb,MAAc;IAEd,MAAM,MAAM,MAAM,MAAM,gKAAS,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS;QACpD,SAAS,eAAe;IAC1B;IACA,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;IAC7C,gBAAgB;IAChB,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MACR,OAAO,KAAK,OAAO,KAAK,WAAW,KAAK,OAAO,GAAG;IAEtD;IACA,0DAA0D;IAC1D,IAAI,MAAM,OAAO,CAAC,OAAO,OAAO;IAChC,MAAM,SAAS;IACf,OAAO,OAAO,KAAK,IAAI,OAAO,IAAI,IAAI,EAAE;AAC1C;AA0BO,eAAe,mBACpB,KAAa,EACb,MAAc;IAEd,MAAM,MAAM,MAAM,MAAM,gKAAS,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS;QAC3D,SAAS,eAAe;IAC1B;IACA,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;IAC7C,gBAAgB;IAChB,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MACR,OAAO,KAAK,OAAO,KAAK,WAAW,KAAK,OAAO,GAAG;IAEtD;IACA,OAAO;AACT;AAGO,eAAe,YACpB,KAAa,EACb,OAA6D;IAE7D,MAAM,MAAM,MAAM,MAAM,gKAAS,CAAC,KAAK,CAAC,OAAO,IAAI;QACjD,QAAQ;QACR,SAAS,eAAe;QACxB,MAAM,KAAK,SAAS,CAAC;IACvB;IACA,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;IAC7C,gBAAgB;IAChB,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MACR,OAAO,KAAK,OAAO,KAAK,WACpB,KAAK,OAAO,GACZ,MAAM,OAAO,CAAC,KAAK,OAAO,IACxB,KAAK,OAAO,CAAC,EAAE,GACf;IAEV;IACA,OAAO;AACT;AAKO,eAAe,aACpB,OAQC;IAED,MAAM,MAAM,MAAM,MAAM,gKAAS,CAAC,IAAI,CAAC,QAAQ,IAAI;QACjD,QAAQ;QACR,SAAS;QACT,MAAM,KAAK,SAAS,CAAC;IACvB;IACA,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;IAC7C,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MACR,OAAO,KAAK,OAAO,KAAK,WACpB,KAAK,OAAO,GACZ,MAAM,OAAO,CAAC,KAAK,OAAO,IACxB,KAAK,OAAO,CAAC,EAAE,GACf;IAEV;IACA,OAAO;AACT;AAaO,eAAe,oBACpB,OAA4B;IAE5B,MAAM,MAAM,MAAM,MAAM,gKAAS,CAAC,IAAI,CAAC,WAAW,IAAI;QACpD,QAAQ;QACR,SAAS;QACT,MAAM,KAAK,SAAS,CAAC;YAAE,MAAM;YAAY,GAAG,OAAO;QAAC;IACtD;IACA,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;IAC7C,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MACR,OAAO,KAAK,OAAO,KAAK,WACpB,KAAK,OAAO,GACZ,MAAM,OAAO,CAAC,KAAK,OAAO,IACxB,KAAK,OAAO,CAAC,EAAE,GACf;IAEV;IACA,OAAO;AACT;AAGO,eAAe,WAAW,OAIhC;IAaC,MAAM,MAAM,MAAM,MAAM,gKAAS,CAAC,IAAI,CAAC,UAAU,IAAI;QACnD,QAAQ;QACR,SAAS;QACT,MAAM,KAAK,SAAS,CAAC;IACvB;IACA,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;IAC7C,gBAAgB;IAChB,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MACR,OAAO,KAAK,OAAO,KAAK,WACpB,KAAK,OAAO,GACZ,MAAM,OAAO,CAAC,KAAK,OAAO,IACxB,KAAK,OAAO,CAAC,EAAE,GACf;IAEV;IACA,OAAO;AAKT;AAGO,eAAe,YACpB,IAAU,EACV,OAAoD;IAEpD,MAAM,WAAW,IAAI;IACrB,SAAS,MAAM,CAAC,QAAQ;IACxB,IAAI,SAAS,QAAQ,SAAS,MAAM,CAAC,UAAU,QAAQ,MAAM;IAC7D,MAAM,UAAuB,CAAC;IAC9B,IAAI,SAAS,OAAO;QACjB,OAAkC,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,QAAQ,KAAK,EAAE;IAClF;IACA,MAAM,MAAM,MAAM,MAAM,gKAAS,CAAC,KAAK,CAAC,MAAM,IAAI;QAChD,QAAQ;QACR;QACA,MAAM;IACR;IACA,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;IAC7C,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MACR,OAAO,KAAK,OAAO,KAAK,WACpB,KAAK,OAAO,GACZ,AAAC,KAA4B,KAAK,IAAI;IAE9C;IACA,OAAO;AACT;AAGO,eAAe,oBACpB,KAAa,EACb,OAA2C;IAE3C,MAAM,MAAM,MAAM,MAAM,gKAAS,CAAC,KAAK,CAAC,KAAK,IAAI;QAC/C,QAAQ;QACR,SAAS,eAAe;QACxB,MAAM,KAAK,SAAS,CAAC;IACvB;IACA,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;IAC7C,gBAAgB;IAChB,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MACR,OAAO,KAAK,OAAO,KAAK,WACpB,KAAK,OAAO,GACZ,MAAM,OAAO,CAAC,KAAK,OAAO,IACxB,KAAK,OAAO,CAAC,EAAE,GACf;IAEV;IACA,OAAO;AACT;AAGO,eAAe,mBACpB,KAAa,EACb,MAAc;IAEd,MAAM,MAAM,MAAM,MAAM,gKAAS,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS;QAC1D,SAAS,eAAe;IAC1B;IACA,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;IAC7C,gBAAgB;IAChB,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,IAAI,MACR,OAAO,KAAK,OAAO,KAAK,WACpB,KAAK,OAAO,GACZ;IAER;IACA,gDAAgD;IAChD,MAAM,MAAM;IACZ,OAAO,MAAM,OAAO,CAAC,OAAO,MAAO,IAAI,UAAU,IAAI,EAAE;AACzD"}},
    {"offset": {"line": 326, "column": 0}, "map": {"version":3,"sources":["file:///Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-mobile/src/store/useAuthStore.ts"],"sourcesContent":["import { create } from \"zustand\";\nimport {\n  persist,\n  createJSONStorage,\n  type StateStorage,\n} from \"zustand/middleware\";\nimport { isTokenExpired } from \"../lib/api\";\n\nexport type AuthStatus = \"unauthenticated\" | \"otp_required\" | \"authenticated\";\n\nexport type UserProfile = {\n  id: string;\n  email: string;\n  role: string;\n  verified?: boolean;\n  firstName?: string;\n  lastName?: string;\n  picture?: string | null;\n  userNumber?: string;\n  createdAt?: string;\n};\n\ntype AuthState = {\n  status: AuthStatus;\n  token: string | null;\n  user: UserProfile | null;\n  otpEmail: string | null;\n  otpExpiresAt: number | null;\n  fullName: string | null;\n  _hasRehydrated: boolean;\n  lastLoginAt: number | null;\n\n  setPendingOtp: (email: string, otpExpiresAt: number, fullName?: string) => void;\n  setAuthenticated: (token: string, user: UserProfile | null) => void;\n  setUser: (user: UserProfile) => void;\n  setRehydrated: () => void;\n  reset: () => void;\n\n  /** @deprecated use setAuthenticated */\n  login: () => void;\n  /** @deprecated use reset */\n  logout: () => void;\n  isAuthenticated: boolean;\n};\n\nconst initialState = {\n  status: \"unauthenticated\" as AuthStatus,\n  token: null as string | null,\n  user: null as UserProfile | null,\n  otpEmail: null as string | null,\n  otpExpiresAt: null as number | null,\n  fullName: null as string | null,\n  _hasRehydrated: false,\n  lastLoginAt: null as number | null,\n  isAuthenticated: false,\n};\n\nconst useAuthStore = create<AuthState>()(\n  persist(\n    (set) => ({\n      ...initialState,\n\n      setPendingOtp: (email, otpExpiresAt, fullName) =>\n        set({\n          status: \"otp_required\",\n          otpEmail: email,\n          otpExpiresAt,\n          fullName: fullName ?? null,\n        }),\n\n      setAuthenticated: (token, user) =>\n        set({\n          status: \"authenticated\",\n          token,\n          user,\n          otpEmail: null,\n          otpExpiresAt: null,\n          lastLoginAt: Date.now(),\n          isAuthenticated: true,\n        }),\n\n      setUser: (user) => set({ user }),\n\n      setRehydrated: () => set({ _hasRehydrated: true }),\n\n      reset: () => set({ ...initialState, _hasRehydrated: true, isAuthenticated: false }),\n\n      login: () => set({ isAuthenticated: true, status: \"authenticated\" }),\n      logout: () => set({ ...initialState, _hasRehydrated: true }),\n    }),\n    {\n      name: \"stillplay-mobile-auth\",\n      storage: createJSONStorage(() => {\n        if (typeof window === \"undefined\") {\n          const noopStorage: StateStorage = {\n            getItem: () => null,\n            setItem: () => {},\n            removeItem: () => {},\n          };\n          return noopStorage;\n        }\n        return localStorage;\n      }),\n      partialize: (state) => ({\n        status: state.status,\n        token: state.token,\n        user: state.user,\n        fullName: state.fullName,\n        otpEmail: state.otpEmail,\n        otpExpiresAt: state.otpExpiresAt,\n        lastLoginAt: state.lastLoginAt,\n        isAuthenticated: state.isAuthenticated,\n      }),\n      onRehydrateStorage: () => () => {\n        const state = useAuthStore.getState();\n        // If the persisted token is expired, clear auth before marking as rehydrated\n        // so the dashboard guard always redirects to login with a clean state.\n        if (state.status === \"authenticated\" && isTokenExpired(state.token)) {\n          state.reset();\n        } else {\n          state.setRehydrated();\n        }\n      },\n    }\n  )\n);\n\nexport default useAuthStore;\n"],"names":[],"mappings":";;;;AAAA;AACA;AAKA;;;;AAuCA,MAAM,eAAe;IACnB,QAAQ;IACR,OAAO;IACP,MAAM;IACN,UAAU;IACV,cAAc;IACd,UAAU;IACV,gBAAgB;IAChB,aAAa;IACb,iBAAiB;AACnB;AAEA,MAAM,eAAe,IAAA,oLAAM,IACzB,IAAA,0LAAO,EACL,CAAC,MAAQ,CAAC;QACR,GAAG,YAAY;QAEf,eAAe,CAAC,OAAO,cAAc,WACnC,IAAI;gBACF,QAAQ;gBACR,UAAU;gBACV;gBACA,UAAU,YAAY;YACxB;QAEF,kBAAkB,CAAC,OAAO,OACxB,IAAI;gBACF,QAAQ;gBACR;gBACA;gBACA,UAAU;gBACV,cAAc;gBACd,aAAa,KAAK,GAAG;gBACrB,iBAAiB;YACnB;QAEF,SAAS,CAAC,OAAS,IAAI;gBAAE;YAAK;QAE9B,eAAe,IAAM,IAAI;gBAAE,gBAAgB;YAAK;QAEhD,OAAO,IAAM,IAAI;gBAAE,GAAG,YAAY;gBAAE,gBAAgB;gBAAM,iBAAiB;YAAM;QAEjF,OAAO,IAAM,IAAI;gBAAE,iBAAiB;gBAAM,QAAQ;YAAgB;QAClE,QAAQ,IAAM,IAAI;gBAAE,GAAG,YAAY;gBAAE,gBAAgB;YAAK;IAC5D,CAAC,GACD;IACE,MAAM;IACN,SAAS,IAAA,oMAAiB,EAAC;QACzB;;QAQA,OAAO;IACT;IACA,YAAY,CAAC,QAAU,CAAC;YACtB,QAAQ,MAAM,MAAM;YACpB,OAAO,MAAM,KAAK;YAClB,MAAM,MAAM,IAAI;YAChB,UAAU,MAAM,QAAQ;YACxB,UAAU,MAAM,QAAQ;YACxB,cAAc,MAAM,YAAY;YAChC,aAAa,MAAM,WAAW;YAC9B,iBAAiB,MAAM,eAAe;QACxC,CAAC;IACD,oBAAoB,IAAM;YACxB,MAAM,QAAQ,aAAa,QAAQ;YACnC,6EAA6E;YAC7E,uEAAuE;YACvE,IAAI,MAAM,MAAM,KAAK,mBAAmB,IAAA,qKAAc,EAAC,MAAM,KAAK,GAAG;gBACnE,MAAM,KAAK;YACb,OAAO;gBACL,MAAM,aAAa;YACrB;QACF;AACF;uCAIW"}},
    {"offset": {"line": 419, "column": 0}, "map": {"version":3,"sources":["file:///Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-mobile/src/app/login/page.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  Alert,\n  Box,\n  Button,\n  CircularProgress,\n  IconButton,\n  InputAdornment,\n  Stack,\n  TextField,\n  Typography,\n} from \"@mui/material\";\nimport VisibilityIcon from \"@mui/icons-material/Visibility\";\nimport VisibilityOffIcon from \"@mui/icons-material/VisibilityOff\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\nimport { Suspense, useEffect, useState } from \"react\";\n\nimport MobileFrame from \"@/components/MobileFrame\";\nimport useAuthStore from \"@/store/useAuthStore\";\nimport { login, decodeToken, isTokenExpired } from \"@/lib/api\";\n\nfunction LoginPageContent() {\n  const router = useRouter();\n\n  const status = useAuthStore((s) => s.status);\n  const token = useAuthStore((s) => s.token);\n  const user = useAuthStore((s) => s.user);\n  const setAuthenticated = useAuthStore((s) => s.setAuthenticated);\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [showPassword, setShowPassword] = useState(false);\n\n  // isMounted starts false on both server and client's first render, preventing\n  // a React hydration mismatch. The auth check only runs after mount, at which\n  // point Zustand has already fully synced from localStorage (sync storage).\n  const [isMounted, setIsMounted] = useState(false);\n  useEffect(() => {\n    setIsMounted(true);\n  }, []);\n\n  // If a valid session is already in the store, skip the login page entirely.\n  const isValidSession =\n    status === \"authenticated\" && !!token && !!user?.id && !isTokenExpired(token);\n\n  useEffect(() => {\n    if (!isMounted) return;\n    if (isValidSession) {\n      // Verified users go to dashboard; unverified users wait for admin approval\n      if (user?.verified === false) {\n        router.replace(\"/pending-verification\");\n      } else {\n        router.replace(\"/dashboard\");\n      }\n    }\n  }, [isMounted, isValidSession, user?.verified, router]);\n\n  // All hooks must be declared before any conditional returns.\n  const mutation = useMutation({\n    mutationFn: () => login({ email: email.trim(), password }),\n    onSuccess: (data) => {\n      const decoded = decodeToken(data.token);\n      const userProfile = decoded\n        ? {\n            id: decoded.userId,\n            email: decoded.email,\n            role: decoded.role,\n            verified: decoded.verified,\n          }\n        : null;\n      setAuthenticated(data.token, userProfile);\n      // Unverified users must wait for admin approval before accessing the dashboard\n      if (userProfile?.verified === false) {\n        router.replace(\"/pending-verification\");\n      } else {\n        router.replace(\"/dashboard\");\n      }\n    },\n  });\n\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    mutation.mutate();\n  };\n\n  // While checking auth (before mount) or mid-redirect, show a neutral spinner\n  // so the user never sees a flash of the login form before being taken in.\n  if (!isMounted || isValidSession) {\n    return (\n      <MobileFrame>\n        <Box\n          className=\"screen-content\"\n          sx={{ display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }}\n        >\n          <CircularProgress color=\"primary\" />\n        </Box>\n      </MobileFrame>\n    );\n  }\n\n  return (\n    <MobileFrame>\n      <Box className=\"screen-content\" sx={{ p: 3 }}>\n        <Stack spacing={3} sx={{ height: \"100%\" }}>\n          <Stack spacing={1}>\n            <Typography variant=\"h4\" fontWeight={700}>\n              Welcome back\n            </Typography>\n            <Typography color=\"text.secondary\">\n              Your football space is waiting for you.\n            </Typography>\n          </Stack>\n\n          <Box component=\"form\" onSubmit={handleSubmit}>\n            <Stack spacing={2}>\n              <Stack spacing={1}>\n                <Typography variant=\"body2\" fontWeight={600}>\n                  Email address\n                </Typography>\n                <TextField\n                  placeholder=\"you@example.com\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  type=\"email\"\n                  required\n                  fullWidth\n                  sx={{\n                    \"& .MuiOutlinedInput-root\": {\n                      backgroundColor: \"#f2f2f2\",\n                      borderRadius: 999,\n                      \"& fieldset\": { border: \"none\" },\n                      \"&:hover fieldset\": { border: \"none\" },\n                      \"&.Mui-focused fieldset\": { border: \"none\" },\n                    },\n                  }}\n                />\n              </Stack>\n\n              <Stack spacing={1}>\n                <Typography variant=\"body2\" fontWeight={600}>\n                  Password\n                </Typography>\n                <TextField\n                  placeholder=\"••••••••\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  type={showPassword ? \"text\" : \"password\"}\n                  required\n                  fullWidth\n                  slotProps={{\n                    input: {\n                      endAdornment: (\n                        <InputAdornment position=\"end\">\n                          <IconButton\n                            aria-label={showPassword ? \"Hide password\" : \"Show password\"}\n                            onClick={() => setShowPassword((p) => !p)}\n                            edge=\"end\"\n                            size=\"small\"\n                          >\n                            {showPassword ? <VisibilityOffIcon /> : <VisibilityIcon />}\n                          </IconButton>\n                        </InputAdornment>\n                      ),\n                    },\n                  }}\n                  sx={{\n                    \"& .MuiOutlinedInput-root\": {\n                      backgroundColor: \"#f2f2f2\",\n                      borderRadius: 999,\n                      \"& fieldset\": { border: \"none\" },\n                      \"&:hover fieldset\": { border: \"none\" },\n                      \"&.Mui-focused fieldset\": { border: \"none\" },\n                    },\n                  }}\n                />\n              </Stack>\n\n              <Typography\n                component={Link}\n                href=\"/forgot-password\"\n                sx={{\n                  alignSelf: \"flex-end\",\n                  color: \"primary.main\",\n                  fontWeight: 600,\n                  textDecoration: \"none\",\n                  fontSize: \"0.875rem\",\n                }}\n              >\n                Forgot password?\n              </Typography>\n\n              {mutation.isError ? (\n                <Alert severity=\"error\">\n                  {(mutation.error as Error).message}\n                </Alert>\n              ) : null}\n            </Stack>\n          </Box>\n\n          <Box flex={1} />\n\n          <Stack spacing={2}>\n            <Button\n              variant=\"contained\"\n              size=\"large\"\n              fullWidth\n              disabled={mutation.isPending}\n              onClick={() => mutation.mutate()}\n            >\n              {mutation.isPending ? \"Logging in...\" : \"Log in to Still Play\"}\n            </Button>\n\n            <Typography variant=\"body2\" textAlign=\"center\" color=\"text.secondary\">\n              Don&apos;t have an account?{\" \"}\n              <Typography\n                component={Link}\n                href=\"/signup\"\n                variant=\"body2\"\n                sx={{ color: \"primary.main\", fontWeight: 600, textDecoration: \"none\" }}\n              >\n                Sign up\n              </Typography>\n            </Typography>\n          </Stack>\n        </Stack>\n      </Box>\n    </MobileFrame>\n  );\n}\n\nexport default function LoginPage() {\n  return (\n    <Suspense\n      fallback={\n        <MobileFrame>\n          <Box\n            className=\"screen-content\"\n            sx={{ display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }}\n          >\n            <Typography color=\"text.secondary\">Loading...</Typography>\n          </Box>\n        </MobileFrame>\n      }\n    >\n      <LoginPageContent />\n    </Suspense>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}