(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[455],{9076:function(e,i,n){Promise.resolve().then(n.bind(n,2691))},2691:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return b}});var t=n(7437),r=n(2265),s=n(4446),o=n(3241),c=n(8681),l=n(1899),a=n(5002),d=n(9962),h=n(8450),x=n(6207),j=n(8984),Z=n(2095),g=n(208),f=n(2281),u=n(4301),m=n(1201),p=n(9469),v=n(8094),y=n(9099);function b(){var e;let[i,n]=(0,r.useState)(0),b=(0,y.t)(e=>e.lastLoginAt),S=(0,y.t)(e=>e.lastLoginIp),W=(0,y.t)(e=>e.lastAction),L=(0,y.t)(e=>e.setLastLoginIp),{data:I,isLoading:w}=(0,v.yf)(50),A=null!==(e=null==I?void 0:I.activities)&&void 0!==e?e:[],_=(0,r.useCallback)(()=>{fetch("https://api.ipify.org?format=json").then(e=>e.json()).then(e=>{(null==e?void 0:e.ip)&&L(e.ip)}).catch(()=>{})},[L]);return(0,r.useEffect)(()=>{S||_()},[S,_]),(0,t.jsxs)(l.Z,{children:[(0,t.jsx)(a.Z,{variant:"h5",fontWeight:700,sx:{mb:3},children:"Settings"}),(0,t.jsxs)(d.Z,{value:i,onChange:(e,i)=>n(i),sx:{borderBottom:1,borderColor:"divider",mb:3,"& .MuiTab-root":{textTransform:"none",fontWeight:600}},children:[(0,t.jsx)(h.Z,{label:"Activity"}),(0,t.jsx)(h.Z,{label:"Preferences",disabled:!0})]}),0===i&&(0,t.jsxs)(l.Z,{children:[(0,t.jsx)(x.Z,{variant:"outlined",sx:{p:3,borderRadius:3,maxWidth:560},children:(0,t.jsxs)(j.Z,{spacing:3,children:[(0,t.jsxs)(j.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,t.jsx)(s.Z,{sx:{color:"primary.main",fontSize:28}}),(0,t.jsxs)(l.Z,{children:[(0,t.jsx)(a.Z,{variant:"caption",color:"text.secondary",children:"Last logged in"}),(0,t.jsx)(a.Z,{variant:"body1",fontWeight:600,children:null==b?"—":new Date(b).toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"})})]})]}),(0,t.jsxs)(j.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,t.jsx)(o.Z,{sx:{color:"primary.main",fontSize:28}}),(0,t.jsxs)(l.Z,{children:[(0,t.jsx)(a.Z,{variant:"caption",color:"text.secondary",children:"IP address"}),(0,t.jsx)(a.Z,{variant:"body1",fontWeight:600,children:S||"—"})]})]}),(0,t.jsxs)(j.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,t.jsx)(c.Z,{sx:{color:"primary.main",fontSize:28}}),(0,t.jsxs)(l.Z,{children:[(0,t.jsx)(a.Z,{variant:"caption",color:"text.secondary",children:"Last action"}),(0,t.jsx)(a.Z,{variant:"body1",fontWeight:600,children:W||"—"})]})]})]})}),(0,t.jsx)(a.Z,{variant:"subtitle1",fontWeight:600,sx:{mt:4,mb:2},children:"Activity history"}),(0,t.jsx)(Z.Z,{component:x.Z,variant:"outlined",sx:{borderRadius:2},children:(0,t.jsxs)(g.Z,{size:"small",children:[(0,t.jsx)(f.Z,{children:(0,t.jsxs)(u.Z,{sx:{bgcolor:"grey.50"},children:[(0,t.jsx)(m.Z,{sx:{fontWeight:700},children:"Activity ID"}),(0,t.jsx)(m.Z,{sx:{fontWeight:700},children:"Action"}),(0,t.jsx)(m.Z,{sx:{fontWeight:700},children:"IP"}),(0,t.jsx)(m.Z,{sx:{fontWeight:700},children:"Time"})]})}),(0,t.jsx)(p.Z,{children:w?(0,t.jsx)(u.Z,{children:(0,t.jsx)(m.Z,{colSpan:4,align:"center",children:"Loading..."})}):0===A.length?(0,t.jsx)(u.Z,{children:(0,t.jsx)(m.Z,{colSpan:4,align:"center",color:"text.secondary",children:"No activity recorded yet."})}):A.map(e=>{var i;return(0,t.jsxs)(u.Z,{children:[(0,t.jsx)(m.Z,{sx:{fontFamily:"monospace",fontSize:"0.8rem"},children:e.id}),(0,t.jsx)(m.Z,{children:e.action}),(0,t.jsx)(m.Z,{children:null!==(i=e.ip)&&void 0!==i?i:"—"}),(0,t.jsx)(m.Z,{children:new Date(e.createdAt).toLocaleString(void 0,{dateStyle:"short",timeStyle:"short"})})]},e.id)})})]})})]})]})}}},function(e){e.O(0,[165,43,262,49,713,958,640,94,971,117,744],function(){return e(e.s=9076)}),_N_E=e.O()}]);