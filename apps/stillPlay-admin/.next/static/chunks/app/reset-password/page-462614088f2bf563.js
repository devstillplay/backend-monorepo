(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[363],{896:function(e,t,n){Promise.resolve().then(n.bind(n,60878))},60878:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Z}});var r=n(57437),i=n(29539),o=n(84523),a=n(8984),s=n(5002),l=n(1899),u=n(97404),c=n(23996),d=n(59832),f=n(82279),h=n(94013),p=n(21770),g=n(27648),x=n(99376),v=n(2265),m=n(36596),y=n(22603),b=n(53675);function j(){var e;let t=(0,x.useRouter)(),n=null!==(e=(0,x.useSearchParams)().get("email"))&&void 0!==e?e:"",[j,Z]=(0,v.useState)(null),[w,k]=(0,v.useState)(n),[C,S]=(0,v.useState)(""),[E,D]=(0,v.useState)(""),[I,P]=(0,v.useState)(""),[A,N]=(0,v.useState)(!1);(0,v.useEffect)(()=>{Z((0,b.o3)())},[]),(0,v.useEffect)(()=>{n&&k(n)},[n]);let O=(0,p.D)({mutationFn:()=>{let e=(0,b.o3)();return(0,b.c0)({resetToken:null!=e?e:void 0,email:e?void 0:w.trim(),code:C,newPassword:E})},onSuccess:()=>{(0,b.zN)(),t.replace("/?reset=success")}}),R=!!(0,b.o3)()||""!==w.trim(),W=4===C.length&&E.length>=6&&E===I&&R,T=(0,v.useCallback)(e=>{if(e.preventDefault(),E!==I){O.reset();return}!(E.length<6)&&4===C.length&&((0,b.o3)()||w.trim())&&O.mutate()},[w,C,E,I]),L=I.length>0&&E!==I,M=(0,v.useCallback)((e,t)=>(0,r.jsx)("input",{...e,style:{width:56,height:56,textAlign:"center",fontSize:20,fontWeight:600,border:"none",borderRadius:8,backgroundColor:"#f2f2f2",outline:"none"}}),[]);return(0,r.jsx)(y.Z,{children:(0,r.jsxs)(a.Z,{spacing:3,sx:{width:"100%",alignItems:"stretch"},children:[(0,r.jsx)(s.Z,{variant:"h4",sx:{color:"#4a4a4a",textAlign:"left"},children:"Reset password"}),(0,r.jsx)(s.Z,{variant:"body2",color:"text.secondary",children:j?"Enter the 4-digit code from your email and choose a new password.":"Enter your email, the code from your email, and a new password. Or request a new code from the forgot password page."}),(0,r.jsx)(l.Z,{component:"form",onSubmit:T,children:(0,r.jsxs)(a.Z,{spacing:2,children:[!j&&(0,r.jsxs)(a.Z,{spacing:1,children:[(0,r.jsx)(s.Z,{variant:"body2",sx:{fontWeight:600},children:"Email"}),(0,r.jsx)(u.Z,{placeholder:"you@example.com",value:w,onChange:e=>k(e.target.value),type:"email",fullWidth:!0,size:"small",sx:{"& .MuiOutlinedInput-root":{backgroundColor:"#f2f2f2",borderRadius:2,"& fieldset":{border:"none"}}}})]}),(0,r.jsxs)(a.Z,{spacing:1,children:[(0,r.jsx)(s.Z,{variant:"body2",sx:{fontWeight:600},children:"Code"}),(0,r.jsx)(m.Z,{value:C,onChange:S,numInputs:4,renderInput:M,inputType:"number",containerStyle:{gap:8,justifyContent:"flex-start"}})]}),(0,r.jsxs)(a.Z,{spacing:1,children:[(0,r.jsx)(s.Z,{variant:"body2",sx:{fontWeight:600},children:"New password"}),(0,r.jsx)(u.Z,{placeholder:"Min 6 characters",value:E,onChange:e=>D(e.target.value),type:A?"text":"password",required:!0,fullWidth:!0,error:E.length>0&&E.length<6,helperText:E.length>0&&E.length<6?"At least 6 characters":void 0,InputProps:{endAdornment:(0,r.jsx)(c.Z,{position:"end",children:(0,r.jsx)(d.Z,{"aria-label":A?"Hide":"Show",onClick:()=>N(e=>!e),edge:"end",size:"small",children:A?(0,r.jsx)(i.Z,{}):(0,r.jsx)(o.Z,{})})})},sx:{"& .MuiOutlinedInput-root":{backgroundColor:"#f2f2f2",borderRadius:2,"& fieldset":{border:"none"}}}})]}),(0,r.jsxs)(a.Z,{spacing:1,children:[(0,r.jsx)(s.Z,{variant:"body2",sx:{fontWeight:600},children:"Confirm password"}),(0,r.jsx)(u.Z,{placeholder:"Repeat new password",value:I,onChange:e=>P(e.target.value),type:A?"text":"password",required:!0,fullWidth:!0,error:L,helperText:L?"Passwords do not match":void 0,sx:{"& .MuiOutlinedInput-root":{backgroundColor:"#f2f2f2",borderRadius:2,"& fieldset":{border:"none"}}}})]}),O.isError?(0,r.jsx)(f.Z,{severity:"error",children:O.error.message}):null,(0,r.jsx)(h.Z,{type:"submit",variant:"contained",size:"large",disabled:O.isPending||!W,fullWidth:!0,sx:{backgroundColor:"#0b7b4c"},children:O.isPending?"Resetting...":"Reset password"})]})}),(0,r.jsx)(s.Z,{variant:"body2",sx:{textAlign:"center"},children:(0,r.jsx)(g.default,{href:"/",style:{color:"inherit"},children:"Back to login"})})]})})}function Z(){return(0,r.jsx)(v.Suspense,{fallback:(0,r.jsx)(y.Z,{children:(0,r.jsx)(l.Z,{sx:{py:4,textAlign:"center"},children:(0,r.jsx)(s.Z,{color:"text.secondary",children:"Loading..."})})}),children:(0,r.jsx)(j,{})})}},22603:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(57437),i=n(1899),o=n(44236);function a(){return(0,r.jsx)(i.Z,{component:o.E.div,initial:{backgroundPosition:"0% 50%"},animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:7,repeat:1/0,ease:"linear"},sx:{position:"relative",display:{xs:"none",md:"flex"},alignItems:"center",justifyContent:"center",backgroundImage:"linear-gradient(135deg, #f0b12a 0%, #0b7b4c 55%, #f0b12a 100%)",backgroundSize:"200% 200%"},children:(0,r.jsx)(i.Z,{component:o.E.img,src:"/assets/svg/STILL PLAYLOGOWH.svg",alt:"Still Play",initial:{opacity:0,y:12,scale:.98},animate:{opacity:1,y:0,scale:1},transition:{duration:.6,ease:"easeOut"},sx:{width:{xs:140,md:180},height:"auto"}})})}function s(e){let{children:t}=e;return(0,r.jsx)(i.Z,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:0},children:(0,r.jsxs)(i.Z,{sx:{width:"100%",minHeight:"100vh",background:"#fff",borderRadius:0,overflow:"hidden",display:"grid",gridTemplateColumns:{xs:"1fr",md:"40% 60%"}},children:[(0,r.jsx)(a,{}),(0,r.jsx)(i.Z,{sx:{padding:{xs:3,md:6},display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)(i.Z,{component:o.E.div,initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},sx:{width:"100%",maxWidth:680},children:t})})]})})}},36596:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2265),i=function(e){return"object"==typeof e&&null!==e},o=function(e){var t=e.value,n=void 0===t?"":t,o=e.numInputs,a=void 0===o?4:o,s=e.onChange,l=e.onPaste,u=e.renderInput,c=e.shouldAutoFocus,d=void 0!==c&&c,f=e.inputType,h=void 0===f?"text":f,p=e.renderSeparator,g=e.placeholder,x=e.containerStyle,v=e.inputStyle,m=e.skipDefaultStyles,y=void 0!==m&&m,b=r.useState(0),j=b[0],Z=b[1],w=r.useRef([]),k=function(){return n?n.toString().split(""):[]},C="number"===h||"tel"===h;r.useEffect(function(){w.current=w.current.slice(0,a)},[a]),r.useEffect(function(){var e;d&&(null===(e=w.current[0])||void 0===e||e.focus())},[d]);var S=function(){if("string"==typeof g){if(g.length===a)return g;g.length>0&&console.error("Length of the placeholder should be equal to the number of inputs.")}},E=function(e){return(C?!isNaN(Number(e)):"string"==typeof e)&&1===e.trim().length},D=function(e){var t=e.target.value;E(t)&&(O(t),N(j+1))},I=function(e){var t=e.nativeEvent,n=e.target.value;E(n)||(n.length!==a||n.split("").some(function(e){return!E(e)})||(R(n.split("")),N(a-1)),null===t.data&&"deleteContentBackward"===t.inputType&&(e.preventDefault(),O(""),N(j-1)),e.target.value="")},P=function(){Z(j-1)},A=function(e){var t=k();[e.code,e.key].includes("Backspace")?(e.preventDefault(),O(""),N(j-1)):"Delete"===e.code?(e.preventDefault(),O("")):"ArrowLeft"===e.code?(e.preventDefault(),N(j-1)):"ArrowRight"===e.code?(e.preventDefault(),N(j+1)):e.key===t[j]?(e.preventDefault(),N(j+1)):("Spacebar"===e.code||"Space"===e.code||"ArrowUp"===e.code||"ArrowDown"===e.code)&&e.preventDefault()},N=function(e){var t,n,r=Math.max(Math.min(a-1,e),0);w.current[r]&&(null===(t=w.current[r])||void 0===t||t.focus(),null===(n=w.current[r])||void 0===n||n.select(),Z(r))},O=function(e){var t=k();t[j]=e[0],R(t)},R=function(e){s(e.join(""))},W=function(e){e.preventDefault();var t,n=k(),r=j,i=e.clipboardData.getData("text/plain").slice(0,a-j).split("");if(!(C&&i.some(function(e){return isNaN(Number(e))}))){for(var o=0;o<a;++o)o>=j&&i.length>0&&(n[o]=null!==(t=i.shift())&&void 0!==t?t:"",r++);N(r),R(n)}};return r.createElement("div",{style:Object.assign({display:"flex",alignItems:"center"},i(x)&&x),className:"string"==typeof x?x:void 0,onPaste:l},Array.from({length:a},function(e,t){return t}).map(function(e){var t,n,o;return r.createElement(r.Fragment,{key:e},u({value:null!==(t=k()[e])&&void 0!==t?t:"",placeholder:null!==(o=null===(n=S())||void 0===n?void 0:n[e])&&void 0!==o?o:void 0,ref:function(t){return w.current[e]=t},onChange:D,onFocus:function(t){Z(e),t.target.select()},onBlur:P,onKeyDown:A,onPaste:W,autoComplete:"off","aria-label":"Please enter OTP character ".concat(e+1),style:Object.assign(y?{}:{width:"1em",textAlign:"center"},i(v)?v:{}),className:"string"==typeof v?v:void 0,type:h,inputMode:C?"numeric":"text",onInput:I},e),e<a-1&&("function"==typeof p?p(e):p))}))}}},function(e){e.O(0,[515,330,262,666,140,404,236,448,494,675,971,117,744],function(){return e(e.s=896)}),_N_E=e.O()}]);