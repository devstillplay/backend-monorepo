exports.id=215,exports.ids=[215],exports.modules={8864:(e,t,r)=>{Promise.resolve().then(r.bind(r,1378))},1103:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},1378:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var a=r(326),s=r(4713),o=r(5148),i=r(2852),n=r(4976),l=r(7577);let d=(0,r(5062).Z)({palette:{primary:{main:"#0b7b4c"},secondary:{main:"#ff9f1a"},background:{default:"#f4f6f5",paper:"#ffffff"},text:{primary:"#1f1f1f",secondary:"#6b6b6b"}},typography:{fontFamily:'"Inter", "Segoe UI", Arial, sans-serif',h3:{fontWeight:700},h4:{fontWeight:700}},shape:{borderRadius:18},components:{MuiButton:{styleOverrides:{root:{textTransform:"none",borderRadius:999,fontWeight:600}}},MuiTextField:{defaultProps:{variant:"outlined",size:"small"}},MuiOutlinedInput:{styleOverrides:{input:{paddingTop:14,paddingBottom:14}}}}});function u({children:e}){let[t]=(0,l.useState)(()=>new i.S({defaultOptions:{queries:{refetchOnWindowFocus:!0,staleTime:6e4}}}));return a.jsx(n.aH,{client:t,children:(0,a.jsxs)(s.Z,{theme:d,children:[a.jsx(o.ZP,{}),e]})})}},5031:(e,t,r)=>{"use strict";function a(){return"http://localhost:3000/api".replace(/\/$/,"")}function s(){if(!a())throw Error("API URL not configured. Add NEXT_PUBLIC_API_BASE_URL to .env.local (e.g. http://localhost:3000/api) and restart the dev server.")}r.d(t,{jY:()=>h,zN:()=>v,r8:()=>O,Qz:()=>x,Er:()=>c,WN:()=>p,o3:()=>w,Cy:()=>m,zO:()=>b,vG:()=>I,xp:()=>L,BX:()=>f,ho:()=>y,f8:()=>g,c0:()=>E,C_:()=>A,vr:()=>u,Ix:()=>P,VP:()=>S});let o={auth:{requestCode:()=>`${a()}/auth/request-code`,verifyCode:()=>`${a()}/auth/verify-code`,login:()=>`${a()}/auth/login`,register:()=>`${a()}/auth/register`,forgotPassword:()=>`${a()}/auth/forgot-password`,resetPassword:()=>`${a()}/auth/reset-password`},admin:{users:()=>`${a()}/admin/users`,userById:e=>`${a()}/admin/users/${e}`,employees:()=>`${a()}/admin/employees`,employeeById:e=>`${a()}/admin/employees/${e}`,activity:()=>`${a()}/admin/activity`},providers:{list:()=>`${a()}/providers`,one:e=>`${a()}/providers/${e}`,create:()=>`${a()}/providers`,update:e=>`${a()}/providers/${e}`},files:{upload:()=>`${a()}/files/upload`}};var i=r(5653),n=r(8907);function l(e){let t={"Content-Type":"application/json"};return e&&(t.Authorization=`Bearer ${e}`),t}function d(e){401===e.status&&(i.t.getState().reset(),n.LM.getState().reset())}async function u(e,t,r){let a=await fetch(o.admin.userById(t),{method:"PATCH",headers:l(e),body:JSON.stringify(r)}),s=await a.json().catch(()=>({}));if(!a.ok)throw d(a),Error("string"==typeof s.message?s.message:Array.isArray(s.message)?s.message[0]:"Failed to update user");return s}async function c(e,t){let r=await fetch(o.admin.userById(t),{method:"DELETE",headers:l(e)}),a=await r.json().catch(()=>({}));if(!r.ok)throw d(r),Error("string"==typeof a.message?a.message:Array.isArray(a.message)?a.message[0]:"Failed to delete user");return a}async function f(e,t){let r=await fetch(o.admin.activity(),{method:"POST",headers:l(e),body:JSON.stringify(t)}),a=await r.json().catch(()=>({}));if(!r.ok)throw d(r),Error("string"==typeof a.message?a.message:Array.isArray(a.message)?a.message[0]:"Failed to record activity");return a}async function m(e,t){let r=new URL(o.admin.activity());null!=t&&r.searchParams.set("limit",String(t));let a=await fetch(r.toString(),{headers:l(e)}),s=await a.json().catch(()=>({}));if(!a.ok)throw d(a),Error("string"==typeof s.message?s.message:"Failed to load activity");return s}let h=["Super Admin","Finance","Customer Support","Operations","Legal & Compliance","Auditor"];function p(e){let t=e.agreedAmount??null;return null==t||t<=0?null:Math.round(t*(1+(e.percentageToAdd??0)/100)*100)/100}async function y(e){let t=await fetch(o.auth.requestCode(),{method:"POST",headers:l(),body:JSON.stringify(e)}),r=await t.json().catch(()=>({}));if(!t.ok)throw Error("string"==typeof r.message?r.message:Array.isArray(r.message)?r.message[0]:"Failed to send code");return r}async function g(e){s();let t=await fetch(o.auth.forgotPassword(),{method:"POST",headers:l(),body:JSON.stringify({email:e.trim()})}),r=await t.json().catch(()=>({}));if(!t.ok)throw Error("string"==typeof r.message?r.message:Array.isArray(r.message)?r.message[0]:"Failed to send reset code");return r}function w(){return null}function A(e){}function v(){}async function P(e,t){s();let r=new FormData;r.append("file",e),t?.folder&&r.append("folder",t.folder);let a={};t?.token&&(a.Authorization=`Bearer ${t.token}`);let i=await fetch(o.files.upload(),{method:"POST",headers:a,body:r}),n=await i.json().catch(()=>({}));if(!i.ok)throw Error("string"==typeof n.message?n.message:n.error??"Upload failed");if(n&&"object"==typeof n&&"error"in n)throw Error(n.error);return n}async function E(e){s();let t=await fetch(o.auth.resetPassword(),{method:"POST",headers:l(),body:JSON.stringify(e)}),r=await t.json().catch(()=>({}));if(!t.ok)throw Error("string"==typeof r.message?r.message:Array.isArray(r.message)?r.message[0]:"Failed to reset password");return r}async function S(e){s();let t=await fetch(o.auth.verifyCode(),{method:"POST",headers:l(),body:JSON.stringify(e)}),r=await t.text(),a={};try{a=r?JSON.parse(r):{}}catch{if(r.trimStart().startsWith("<!"))throw Error("Received a web page instead of API. Set NEXT_PUBLIC_API_BASE_URL in .env.local to your API gateway (e.g. http://localhost:3000/api) and restart.");throw Error(r.slice(0,120)||"Invalid or expired code")}if(!t.ok)throw Error("string"==typeof a.message?a.message:Array.isArray(a.message)?a.message[0]:"Invalid or expired code");return a}async function b(e){let t=await fetch(o.admin.users(),{headers:l(e)}),r=await t.json().catch(()=>({}));if(!t.ok)throw d(t),Error("string"==typeof r.message?r.message:"Failed to load users");return Array.isArray(r)?r:r.users??[]}async function I(e){let t=await fetch(o.admin.employees(),{headers:l(e)}),r=await t.json().catch(()=>({}));if(!t.ok)throw d(t),Error("string"==typeof r.message?r.message:"Failed to load staff");return Array.isArray(r)?r:r.employees??[]}async function O(e,t){let r=await fetch(o.admin.employees(),{method:"POST",headers:l(e),body:JSON.stringify(t)}),a=await r.json().catch(()=>({}));if(!r.ok)throw d(r),Error("string"==typeof a.message?a.message:Array.isArray(a.message)?a.message[0]:"Failed to create staff");return a}async function L(e){let t=await fetch(o.providers.list(),{headers:l(e)}),r=await t.json().catch(()=>({}));if(!t.ok)throw d(t),Error("string"==typeof r.message?r.message:"Failed to load providers");return Array.isArray(r)?r:r.providers??[]}async function x(e,t){let r=await fetch(o.providers.create(),{method:"POST",headers:l(e),body:JSON.stringify(t)}),a=await r.json().catch(()=>({}));if(!r.ok)throw d(r),Error("string"==typeof a.message?a.message:Array.isArray(a.message)?a.message[0]:"Failed to create provider");return a}},5653:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});var a=r(551),s=r(5251),o=r(8907);let i={status:"unauthenticated",token:null,user:null,otpEmail:null,otpExpiresAt:null,fullName:null,_hasRehydrated:!1,lastLoginAt:null,lastLoginIp:null,lastAction:null},n=(0,a.Ue)()((0,s.tJ)(e=>({...i,setPendingOtp:(t,r,a)=>e({status:"otp_required",otpEmail:t,otpExpiresAt:r,fullName:a??null}),setAuthenticated:(t,r)=>e({status:"authenticated",token:t,user:r,otpEmail:null,otpExpiresAt:null,lastLoginAt:Date.now()}),setUser:t=>e({user:t}),setRehydrated:()=>e({_hasRehydrated:!0}),setLastAction:t=>e({lastAction:t}),setLastLoginIp:t=>e({lastLoginIp:t}),reset:()=>e(i)}),{name:"stillplay-admin-auth",storage:(0,s.FL)(()=>({getItem:()=>null,setItem:()=>{},removeItem:()=>{}})),partialize:e=>({status:e.status,token:e.token,user:e.user,fullName:e.fullName,otpEmail:e.otpEmail,otpExpiresAt:e.otpExpiresAt,lastLoginAt:e.lastLoginAt,lastLoginIp:e.lastLoginIp,lastAction:e.lastAction}),onRehydrateStorage:()=>()=>{let e=n.getState();e.setRehydrated(),e.user&&o.LM.getState().setProfile(e.user)}}))},8907:(e,t,r)=>{"use strict";r.d(t,{LM:()=>i});var a=r(551),s=r(5251);let o={getItem:()=>null,setItem:()=>{},removeItem:()=>{}},i=(0,a.Ue)()((0,s.tJ)(e=>({profile:null,setProfile:t=>e({profile:t}),reset:()=>e({profile:null})}),{name:"stillplay-admin-user",storage:(0,s.FL)(()=>o),partialize:e=>({profile:e.profile})}))},4752:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>o});var a=r(9510);let s=(0,r(8570).createProxy)(String.raw`/Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-admin/app/providers.tsx#default`);r(7272);let o={title:"Still Play Admin",description:"Admin login and dashboard"};function i({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{children:a.jsx(s,{children:e})})})}},7272:()=>{}};