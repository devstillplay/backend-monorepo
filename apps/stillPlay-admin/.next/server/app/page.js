(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1134:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>u,routeModule:()=>m,tree:()=>d}),s(908),s(4752),s(5866);var n=s(3191),i=s(8716),r=s(7922),a=s.n(r),o=s(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,908)),"/Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-admin/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,4752)),"/Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-admin/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],u=["/Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-admin/app/page.tsx"],c="/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9845:(e,t,s)=>{Promise.resolve().then(s.bind(s,8743))},8743:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Z});var n=s(326),i=s(1453),r=s(8800),a=s(8464),o=s(274),l=s(1728),d=s(541),u=s(7329),c=s(8260),p=s(9351),m=s(2265),x=s(119),h=s(434),f=s(5047),g=s(7577),y=s(232),b=s(5031),v=s(2972),j=s(5653),P=s(8907);function k(){let e=(0,f.useRouter)(),t="success"===(0,f.useSearchParams)().get("reset");(0,j.t)(e=>e.status),(0,j.t)(e=>e.token),(0,j.t)(e=>e._hasRehydrated);let s=(0,j.t)(e=>e.setPendingOtp),k=(0,j.t)(e=>e.setAuthenticated),[Z,w]=(0,g.useState)(""),[q,S]=(0,g.useState)(""),[_,A]=(0,g.useState)(!1),C=(0,x.D)({mutationFn:()=>(0,b.ho)({type:"login",email:Z.trim(),password:q}),onSuccess:t=>{if(t.token){k(t.token,t.user??null),t.user&&P.LM.getState().setProfile({id:t.user.id,email:t.user.email,role:t.user.role,firstName:t.user.firstName,lastName:t.user.lastName}),(0,v.bA)({action:"Logged in"}),e.replace("/dashboard");return}let n=Z.includes("@")?Z.split("@")[0]:Z;s(Z.trim(),Date.now()+6e5,n),e.push("/otp?flow=login")}});return n.jsx(y.Z,{children:(0,n.jsxs)(a.Z,{spacing:3,sx:{width:"100%",alignItems:"stretch"},children:[n.jsx(o.Z,{variant:"h4",sx:{color:"#4a4a4a",textAlign:"left"},children:"Welcome to StillPlay."}),n.jsx(l.Z,{component:"form",onSubmit:e=>{e.preventDefault(),C.mutate()},sx:{width:"100%"},children:(0,n.jsxs)(a.Z,{spacing:2,sx:{width:"100%"},children:[(0,n.jsxs)(a.Z,{spacing:1,children:[n.jsx(o.Z,{variant:"body2",sx:{fontWeight:600},children:"Email address"}),n.jsx(d.Z,{placeholder:"you@example.com",value:Z,onChange:e=>w(e.target.value),type:"email",required:!0,fullWidth:!0,sx:{"& input":{textAlign:"left"},"& input::placeholder":{textAlign:"left"},"& .MuiOutlinedInput-root":{backgroundColor:"#f2f2f2",borderRadius:999,"& fieldset":{border:"none"},"&:hover fieldset":{border:"none"},"&.Mui-focused fieldset":{border:"none"}}}})]}),(0,n.jsxs)(a.Z,{spacing:1,children:[n.jsx(o.Z,{variant:"body2",sx:{fontWeight:600},children:"Password"}),n.jsx(d.Z,{placeholder:"••••••••",value:q,onChange:e=>S(e.target.value),type:_?"text":"password",required:!0,fullWidth:!0,InputProps:{endAdornment:n.jsx(u.Z,{position:"end",children:n.jsx(c.Z,{"aria-label":_?"Hide password":"Show password",onClick:()=>A(e=>!e),edge:"end",size:"small",children:_?n.jsx(i.Z,{}):n.jsx(r.Z,{})})})},sx:{"& input":{textAlign:"left"},"& input::placeholder":{textAlign:"left"},"& .MuiOutlinedInput-root":{backgroundColor:"#f2f2f2",borderRadius:999,"& fieldset":{border:"none"},"&:hover fieldset":{border:"none"},"&.Mui-focused fieldset":{border:"none"}}}})]}),n.jsx(o.Z,{variant:"body2",sx:{textAlign:"right"},children:n.jsx(h.default,{href:"/forgot-password",style:{color:"inherit",textDecoration:"none"},children:"Forgot Password?"})}),t?n.jsx(p.Z,{severity:"success",children:"Password reset successfully. You can now log in."}):null,C.isError?n.jsx(p.Z,{severity:"error",children:C.error.message}):null,n.jsx(m.Z,{type:"submit",variant:"contained",size:"large",disabled:C.isPending,fullWidth:!0,sx:{backgroundColor:"#0b7b4c"},children:C.isPending?"Sending code...":"Log in"})]})})]})})}function Z(){return n.jsx(g.Suspense,{fallback:n.jsx(y.Z,{children:n.jsx(l.Z,{sx:{py:4,textAlign:"center"},children:n.jsx(o.Z,{color:"text.secondary",children:"Loading..."})})}),children:n.jsx(k,{})})}},232:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var n=s(326),i=s(1728),r=s(2241);function a(){return n.jsx(i.Z,{component:r.E.div,initial:{backgroundPosition:"0% 50%"},animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:7,repeat:1/0,ease:"linear"},sx:{position:"relative",display:{xs:"none",md:"flex"},alignItems:"center",justifyContent:"center",backgroundImage:"linear-gradient(135deg, #f0b12a 0%, #0b7b4c 55%, #f0b12a 100%)",backgroundSize:"200% 200%"},children:n.jsx(i.Z,{component:r.E.img,src:"/assets/svg/STILL PLAYLOGOWH.svg",alt:"Still Play",initial:{opacity:0,y:12,scale:.98},animate:{opacity:1,y:0,scale:1},transition:{duration:.6,ease:"easeOut"},sx:{width:{xs:140,md:180},height:"auto"}})})}function o({children:e}){return n.jsx(i.Z,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:0},children:(0,n.jsxs)(i.Z,{sx:{width:"100%",minHeight:"100vh",background:"#fff",borderRadius:0,overflow:"hidden",display:"grid",gridTemplateColumns:{xs:"1fr",md:"40% 60%"}},children:[n.jsx(a,{}),n.jsx(i.Z,{sx:{padding:{xs:3,md:6},display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(i.Z,{component:r.E.div,initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},sx:{width:"100%",maxWidth:680},children:e})})]})})}},2972:(e,t,s)=>{"use strict";s.d(t,{Cx:()=>y,OL:()=>g,Rm:()=>u,Y7:()=>x,bA:()=>m,ez:()=>f,hV:()=>c,ko:()=>h,yf:()=>p});var n=s(108),i=s(4976),r=s(119),a=s(5653),o=s(5031);let l={all:["admin"],users:()=>[...l.all,"users"],user:e=>[...l.users(),e],employees:()=>[...l.all,"employees"],activity:()=>[...l.all,"activity"]},d={all:["providers"],list:()=>[...d.all,"list"]};function u(){let e=(0,a.t)(e=>e.token);return(0,n.a)({queryKey:l.users(),queryFn:()=>(0,o.zO)(e),enabled:!!e,refetchOnWindowFocus:!0,staleTime:6e4})}function c(){let e=(0,a.t)(e=>e.token),t=(0,i.NL)();return(0,r.D)({mutationFn:({id:t,payload:s})=>(0,o.vr)(e,t,s),onSuccess:()=>{t.invalidateQueries({queryKey:l.users()})}})}function p(e){let t=(0,a.t)(e=>e.token);return(0,n.a)({queryKey:[...l.activity(),e??50],queryFn:()=>(0,o.Cy)(t,e),enabled:!!t,staleTime:3e4})}function m(e){let t=a.t.getState().token;t&&(0,o.BX)(t,e).catch(()=>{})}function x(){let e=(0,a.t)(e=>e.token),t=(0,i.NL)();return(0,r.D)({mutationFn:t=>(0,o.Er)(e,t),onSuccess:()=>{t.invalidateQueries({queryKey:l.users()})}})}function h(){let e=(0,a.t)(e=>e.token);return(0,n.a)({queryKey:d.list(),queryFn:()=>(0,o.xp)(e),enabled:!!e,refetchOnWindowFocus:!0,staleTime:6e4})}function f(){let e=(0,a.t)(e=>e.token),t=(0,i.NL)();return(0,r.D)({mutationFn:t=>(0,o.Qz)(e,t),onSuccess:()=>{t.invalidateQueries({queryKey:d.list()})}})}function g(){let e=(0,a.t)(e=>e.token);return(0,n.a)({queryKey:l.employees(),queryFn:()=>(0,o.vG)(e),enabled:!!e,refetchOnWindowFocus:!0,staleTime:6e4})}function y(){let e=(0,a.t)(e=>e.token),t=(0,i.NL)();return(0,r.D)({mutationFn:t=>(0,o.r8)(e,t),onSuccess:()=>{t.invalidateQueries({queryKey:l.employees()})}})}},908:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});let n=(0,s(8570).createProxy)(String.raw`/Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-admin/app/page.tsx#default`)}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),n=t.X(0,[339,164,344,541,108,563,215],()=>s(1134));module.exports=n})();