(()=>{var e={};e.id=931,e.ids=[931],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},81134:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>a.a,__next_app__:()=>y,originalPathname:()=>c,pages:()=>d,routeModule:()=>p,tree:()=>u}),n(90908),n(84752),n(35866);var i=n(23191),s=n(88716),r=n(37922),a=n.n(r),l=n(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);n.d(t,o);let u=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,90908)),"/Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-admin/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(n.bind(n,84752)),"/Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-admin/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-admin/app/page.tsx"],c="/page",y={require:n,loadChunk:()=>Promise.resolve()},p=new i.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},49845:(e,t,n)=>{Promise.resolve().then(n.bind(n,88743))},88743:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>P});var i=n(10326),s=n(71453),r=n(38800),a=n(88464),l=n(30274),o=n(71728),u=n(90541),d=n(57329),c=n(48260),y=n(59351),p=n(42265),m=n(10119),f=n(90434),x=n(35047),g=n(17577),h=n(90232),v=n(5031),b=n(92972),q=n(15653),j=n(8907);function k(){let e=(0,x.useRouter)(),t="success"===(0,x.useSearchParams)().get("reset");(0,q.t)(e=>e.status),(0,q.t)(e=>e.token);let n=(0,q.t)(e=>e.setAuthenticated),[k,P]=(0,g.useState)(""),[K,w]=(0,g.useState)(""),[Z,F]=(0,g.useState)(!1),[S,L]=(0,g.useState)(!1),Q=(0,m.D)({mutationFn:()=>(0,v.$g)({email:k.trim(),password:K}),onSuccess:t=>{n(t.token,t.user??null),t.user&&j.LM.getState().setProfile({id:t.user.id,email:t.user.email,role:t.user.role,firstName:t.user.firstName,lastName:t.user.lastName}),(0,b.bA)({action:"Logged in"}),e.replace("/dashboard")}});return i.jsx(h.Z,{children:(0,i.jsxs)(a.Z,{spacing:3,sx:{width:"100%",alignItems:"stretch"},children:[i.jsx(l.Z,{variant:"h4",sx:{color:"#4a4a4a",textAlign:"left"},children:"Welcome to StillPlay."}),i.jsx(o.Z,{component:"form",onSubmit:e=>{e.preventDefault(),Q.mutate()},sx:{width:"100%"},children:(0,i.jsxs)(a.Z,{spacing:2,sx:{width:"100%"},children:[(0,i.jsxs)(a.Z,{spacing:1,children:[i.jsx(l.Z,{variant:"body2",sx:{fontWeight:600},children:"Email address"}),i.jsx(u.Z,{placeholder:"you@example.com",value:k,onChange:e=>P(e.target.value),type:"email",required:!0,fullWidth:!0,sx:{"& input":{textAlign:"left"},"& input::placeholder":{textAlign:"left"},"& .MuiOutlinedInput-root":{backgroundColor:"#f2f2f2",borderRadius:999,"& fieldset":{border:"none"},"&:hover fieldset":{border:"none"},"&.Mui-focused fieldset":{border:"none"}}}})]}),(0,i.jsxs)(a.Z,{spacing:1,children:[i.jsx(l.Z,{variant:"body2",sx:{fontWeight:600},children:"Password"}),i.jsx(u.Z,{placeholder:"••••••••",value:K,onChange:e=>w(e.target.value),type:Z?"text":"password",required:!0,fullWidth:!0,InputProps:{endAdornment:i.jsx(d.Z,{position:"end",children:i.jsx(c.Z,{"aria-label":Z?"Hide password":"Show password",onClick:()=>F(e=>!e),edge:"end",size:"small",children:Z?i.jsx(s.Z,{}):i.jsx(r.Z,{})})})},sx:{"& input":{textAlign:"left"},"& input::placeholder":{textAlign:"left"},"& .MuiOutlinedInput-root":{backgroundColor:"#f2f2f2",borderRadius:999,"& fieldset":{border:"none"},"&:hover fieldset":{border:"none"},"&.Mui-focused fieldset":{border:"none"}}}})]}),i.jsx(l.Z,{variant:"body2",sx:{textAlign:"right"},children:i.jsx(f.default,{href:"/forgot-password",style:{color:"inherit",textDecoration:"none"},children:"Forgot Password?"})}),t?i.jsx(y.Z,{severity:"success",children:"Password reset successfully. You can now log in."}):null,Q.isError?i.jsx(y.Z,{severity:"error",children:Q.error.message}):null,i.jsx(p.Z,{type:"submit",variant:"contained",size:"large",disabled:Q.isPending,fullWidth:!0,sx:{backgroundColor:"#0b7b4c"},children:Q.isPending?"Logging in…":"Log in"})]})})]})})}function P(){return i.jsx(g.Suspense,{fallback:i.jsx(h.Z,{children:i.jsx(o.Z,{sx:{py:4,textAlign:"center"},children:i.jsx(l.Z,{color:"text.secondary",children:"Loading…"})})}),children:i.jsx(k,{})})}},90232:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(10326),s=n(71728),r=n(2241);function a(){return i.jsx(s.Z,{component:r.E.div,initial:{backgroundPosition:"0% 50%"},animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:7,repeat:1/0,ease:"linear"},sx:{position:"relative",display:{xs:"none",md:"flex"},alignItems:"center",justifyContent:"center",backgroundImage:"linear-gradient(135deg, #f0b12a 0%, #0b7b4c 55%, #f0b12a 100%)",backgroundSize:"200% 200%"},children:i.jsx(s.Z,{component:r.E.img,src:"/assets/svg/STILL PLAYLOGOWH.svg",alt:"Still Play",initial:{opacity:0,y:12,scale:.98},animate:{opacity:1,y:0,scale:1},transition:{duration:.6,ease:"easeOut"},sx:{width:{xs:140,md:180},height:"auto"}})})}function l({children:e}){return i.jsx(s.Z,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:0},children:(0,i.jsxs)(s.Z,{sx:{width:"100%",minHeight:"100vh",background:"#fff",borderRadius:0,overflow:"hidden",display:"grid",gridTemplateColumns:{xs:"1fr",md:"40% 60%"}},children:[i.jsx(a,{}),i.jsx(s.Z,{sx:{padding:{xs:3,md:6},display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx(s.Z,{component:r.E.div,initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},sx:{width:"100%",maxWidth:680},children:e})})]})})}},92972:(e,t,n)=>{"use strict";n.d(t,{Cx:()=>v,HI:()=>j,Hv:()=>S,It:()=>q,OL:()=>h,P7:()=>k,RB:()=>w,Rm:()=>d,XO:()=>c,Xl:()=>K,Y7:()=>f,Yn:()=>L,bA:()=>m,cy:()=>Z,ez:()=>g,hV:()=>y,ko:()=>x,l2:()=>b,pv:()=>P,ur:()=>F,yf:()=>p});var i=n(20108),s=n(44976),r=n(10119),a=n(15653),l=n(5031);let o={all:["admin"],users:()=>[...o.all,"users"],user:e=>[...o.users(),e],employees:()=>[...o.all,"employees"],activity:()=>[...o.all,"activity"],settings:()=>[...o.all,"settings"],loans:{all:()=>[...o.all,"loans","all"],allRepayments:()=>[...o.all,"loans","repayments","all"],userLoans:e=>[...o.all,"loans","user",e],userRepayments:e=>[...o.all,"loans","repayments","user",e],userWallet:e=>[...o.all,"loans","wallet",e],userEligibility:e=>[...o.all,"loans","eligibility",e]}},u={all:["providers"],list:()=>[...u.all,"list"]};function d(){let e=(0,a.t)(e=>e.token);return(0,i.a)({queryKey:o.users(),queryFn:()=>(0,l.zO)(e),enabled:!!e,refetchOnWindowFocus:!0,staleTime:6e4})}function c(e){let t=(0,a.t)(e=>e.token);return(0,i.a)({queryKey:[...o.users(),"detail",e],queryFn:()=>(0,l.eJ)(t,e),enabled:!!t&&!!e,staleTime:3e4})}function y(){let e=(0,a.t)(e=>e.token),t=(0,s.NL)();return(0,r.D)({mutationFn:({id:t,payload:n})=>(0,l.vr)(e,t,n),onSuccess:()=>{t.invalidateQueries({queryKey:o.users()}),m({action:"User edited"}),t.invalidateQueries({queryKey:o.activity()})}})}function p(e){let t=(0,a.t)(e=>e.token);return(0,i.a)({queryKey:[...o.activity(),e??50],queryFn:()=>(0,l.Cy)(t,e),enabled:!!t,staleTime:3e4})}function m(e){let t=a.t.getState().token;t&&(0,l.BX)(t,e).catch(()=>{})}function f(){let e=(0,a.t)(e=>e.token),t=(0,s.NL)();return(0,r.D)({mutationFn:t=>(0,l.Er)(e,t),onSuccess:()=>{t.invalidateQueries({queryKey:o.users()}),m({action:"User deleted"}),t.invalidateQueries({queryKey:o.activity()})}})}function x(){let e=(0,a.t)(e=>e.token);return(0,i.a)({queryKey:u.list(),queryFn:()=>(0,l.xp)(e),enabled:!!e,refetchOnWindowFocus:!0,staleTime:6e4})}function g(){let e=(0,a.t)(e=>e.token),t=(0,s.NL)();return(0,r.D)({mutationFn:t=>(0,l.Qz)(e,t),onSuccess:()=>{t.invalidateQueries({queryKey:u.list()}),m({action:"Provider added"}),t.invalidateQueries({queryKey:o.activity()})}})}function h(){let e=(0,a.t)(e=>e.token);return(0,i.a)({queryKey:o.employees(),queryFn:()=>(0,l.vG)(e),enabled:!!e,refetchOnWindowFocus:!0,staleTime:6e4})}function v(){let e=(0,a.t)(e=>e.token),t=(0,s.NL)();return(0,r.D)({mutationFn:t=>(0,l.r8)(e,t),onSuccess:()=>{t.invalidateQueries({queryKey:o.employees()}),m({action:"Staff/employee created"}),t.invalidateQueries({queryKey:o.activity()})}})}function b(e){let t=(0,a.t)(e=>e.token);return(0,i.a)({queryKey:o.loans.userLoans(e??""),queryFn:()=>(0,l.hJ)(t,e),enabled:!!t&&!!e,staleTime:3e4})}function q(e){let t=(0,a.t)(e=>e.token);return(0,i.a)({queryKey:o.loans.userRepayments(e??""),queryFn:()=>(0,l.Rt)(t,e),enabled:!!t&&!!e,staleTime:3e4})}function j(e){let t=(0,a.t)(e=>e.token);return(0,i.a)({queryKey:o.loans.userWallet(e??""),queryFn:()=>(0,l.p0)(t,e),enabled:!!t&&!!e,staleTime:3e4})}function k(e){let t=(0,a.t)(e=>e.token);return(0,i.a)({queryKey:o.loans.userEligibility(e??""),queryFn:()=>(0,l.Hd)(t,e),enabled:!!t&&!!e,staleTime:15e3})}function P(){let e=(0,a.t)(e=>e.token),t=(0,s.NL)();return(0,r.D)({mutationFn:t=>(0,l.G7)(e,t),onSuccess:(e,n)=>{t.invalidateQueries({queryKey:o.loans.userLoans(n.userId)}),t.invalidateQueries({queryKey:o.loans.userWallet(n.userId)}),t.invalidateQueries({queryKey:o.loans.userRepayments(n.userId)}),t.invalidateQueries({queryKey:o.loans.userEligibility(n.userId)}),t.invalidateQueries({queryKey:o.loans.all()}),t.invalidateQueries({queryKey:o.loans.allRepayments()})}})}function K(){let e=(0,a.t)(e=>e.token);return(0,i.a)({queryKey:o.loans.all(),queryFn:()=>(0,l.cA)(e),enabled:!!e,refetchOnWindowFocus:!0,staleTime:3e4})}function w(){let e=(0,a.t)(e=>e.token);return(0,i.a)({queryKey:o.loans.allRepayments(),queryFn:()=>(0,l.Cb)(e),enabled:!!e,refetchOnWindowFocus:!0,staleTime:3e4})}function Z(){let e=(0,a.t)(e=>e.token),t=(0,s.NL)();return(0,r.D)({mutationFn:t=>(0,l.xl)(e,t),onSuccess:()=>{t.invalidateQueries({queryKey:o.loans.all()}),m({action:"Loan approved"}),t.invalidateQueries({queryKey:o.activity()})}})}function F(){let e=(0,a.t)(e=>e.token),t=(0,s.NL)();return(0,r.D)({mutationFn:t=>(0,l.ey)(e,t),onSuccess:()=>{t.invalidateQueries({queryKey:o.loans.all()}),m({action:"Loan rejected"}),t.invalidateQueries({queryKey:o.activity()})}})}function S(){let e=(0,a.t)(e=>e.token);return(0,i.a)({queryKey:o.settings(),queryFn:()=>(0,l.hO)(e),enabled:!!e,staleTime:6e4})}function L(){let e=(0,a.t)(e=>e.token),t=(0,s.NL)();return(0,r.D)({mutationFn:({key:t,value:n})=>(0,l.WD)(e,t,n),onSuccess:()=>{t.invalidateQueries({queryKey:o.settings()})}})}},90908:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});let i=(0,n(68570).createProxy)(String.raw`/Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-admin/app/page.tsx#default`)}};var t=require("../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),i=t.X(0,[898,14,761,108,563,215],()=>n(81134));module.exports=i})();