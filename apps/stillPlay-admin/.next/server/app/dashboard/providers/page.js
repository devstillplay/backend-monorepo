(()=>{var e={};e.id=818,e.ids=[818],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9740:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d}),t(1034),t(3321),t(4752),t(5866);var a=t(3191),s=t(8716),i=t(7922),n=t.n(i),o=t(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let d=["",{children:["dashboard",{children:["providers",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1034)),"/Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-admin/app/dashboard/providers/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,3321)),"/Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-admin/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,4752)),"/Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-admin/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-admin/app/dashboard/providers/page.tsx"],p="/dashboard/providers/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/dashboard/providers/page",pathname:"/dashboard/providers",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7755:(e,r,t)=>{Promise.resolve().then(t.bind(t,8432))},8432:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>C});var a=t(326),s=t(4873),i=t(9069),n=t(1728),o=t(8464),l=t(274),d=t(8260),c=t(2265),p=t(8139),m=t(9995),u=t(8117),x=t(8591),h=t(541),g=t(9351),f=t(6277),v=t(7577),b=t(2241),j=t(2894),y=t(2972),Z=t(5031);function P(e){return null==e?"—":new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0,maximumFractionDigits:2}).format(e)}function C(){let[e,r]=(0,v.useState)(""),[t,C]=(0,v.useState)(!1),[w,k]=(0,v.useState)(""),[A,_]=(0,v.useState)(""),[S,N]=(0,v.useState)(""),[R,W]=(0,v.useState)(""),[D,T]=(0,v.useState)(""),[I,E]=(0,v.useState)(""),{data:q=[],isLoading:L,isError:G,error:F,refetch:M,isFetching:O}=(0,y.ko)(),z=(0,y.ez)(),B=(0,v.useMemo)(()=>{if(!e.trim())return q;let r=e.trim().toLowerCase();return q.filter(e=>e.name.toLowerCase().includes(r)||(e.email??"").toLowerCase().includes(r)||(e.providerNumber??"").toLowerCase().includes(r))},[q,e]),J=()=>{k(""),_(""),N(""),W(""),T(""),E(""),C(!1)};return(0,a.jsxs)(n.Z,{component:b.E.div,initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.45,ease:"easeOut"},children:[a.jsx(j.Z,{search:e,onSearchChange:r}),a.jsx(n.Z,{sx:{background:"#ffffff",borderRadius:{xs:0,md:2},padding:{xs:2,md:3.5},paddingBottom:{xs:3,md:4},marginTop:{xs:2,md:3},marginX:{xs:-2,md:0},minHeight:"calc(100vh - 220px)",display:"flex",flexDirection:"column"},children:a.jsx(o.Z,{spacing:2,children:(0,a.jsxs)(n.Z,{sx:{borderRadius:3,padding:2,backgroundColor:"#f3f3f3",display:"flex",flexDirection:"column"},children:[(0,a.jsxs)(o.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:1,sx:{marginBottom:2,paddingTop:2,paddingLeft:2},children:[a.jsx(l.Z,{variant:"h6",sx:{fontWeight:700},children:"PROVIDERS"}),(0,a.jsxs)(o.Z,{direction:"row",spacing:1,children:[a.jsx(d.Z,{size:"small",onClick:()=>M(),disabled:O,"aria-label":"Refresh list",children:a.jsx(i.Z,{})}),a.jsx(c.Z,{variant:"contained",size:"small",startIcon:a.jsx(s.Z,{}),onClick:()=>C(!0),sx:{backgroundColor:"#0b7b4c"},children:"Register provider"})]})]}),(0,a.jsxs)(n.Z,{sx:{fontSize:12,color:"text.secondary",marginBottom:2,backgroundColor:"#fff",borderRadius:999,paddingY:1.2,paddingX:3,display:{xs:"none",md:"grid"},gridTemplateColumns:{md:"1.2fr 0.9fr 1fr 0.9fr 0.7fr 0.9fr 0.9fr 1.2fr"},alignItems:"center",gap:1},children:[a.jsx(n.Z,{children:"Name"}),a.jsx(n.Z,{children:"Provider #"}),a.jsx(n.Z,{children:"Email"}),a.jsx(n.Z,{children:"Amount"}),a.jsx(n.Z,{children:"Agreed %"}),a.jsx(n.Z,{children:"Final amount"}),a.jsx(n.Z,{children:"Agreed date"}),a.jsx(n.Z,{children:"Agreed terms"})]}),a.jsx(n.Z,{sx:{marginTop:1},children:L?(0,a.jsxs)(o.Z,{alignItems:"center",py:4,children:[a.jsx(p.Z,{sx:{color:"#0b7b4c"}}),a.jsx(l.Z,{variant:"body2",color:"text.secondary",sx:{mt:2},children:"Loading providers..."})]}):G?(0,a.jsxs)(o.Z,{alignItems:"center",py:4,spacing:2,children:[a.jsx(l.Z,{color:"error",children:F.message}),a.jsx(c.Z,{variant:"outlined",onClick:()=>M(),size:"small",children:"Retry"})]}):0===B.length?a.jsx(l.Z,{color:"text.secondary",sx:{py:4,textAlign:"center"},children:"No providers yet. Register one to get started."}):a.jsx(o.Z,{spacing:0,children:B.map(e=>(0,a.jsxs)(n.Z,{sx:{paddingY:2,paddingX:{xs:2,md:3},borderBottom:"1px solid #fff",display:{xs:"flex",md:"grid"},flexDirection:{xs:"column",md:"unset"},gridTemplateColumns:{md:"1.2fr 0.9fr 1fr 0.9fr 0.7fr 0.9fr 0.9fr 1.2fr"},alignItems:"center",gap:{xs:1,md:1},backgroundColor:"#ffffff",borderRadius:1,"&:hover":{backgroundColor:"#fafafa"}},children:[a.jsx(l.Z,{variant:"body2",fontWeight:600,children:e.name}),a.jsx(l.Z,{variant:"body2",color:"text.secondary",children:e.providerNumber??"—"}),a.jsx(l.Z,{variant:"body2",color:"text.secondary",children:e.email??"—"}),a.jsx(l.Z,{variant:"body2",children:P(e.agreedAmount)}),a.jsx(l.Z,{variant:"body2",children:null!=e.percentageToAdd?`${e.percentageToAdd}%`:"—"}),a.jsx(l.Z,{variant:"body2",fontWeight:500,children:P((0,Z.WN)(e))}),a.jsx(l.Z,{variant:"body2",color:"text.secondary",children:function(e){if(!e)return"—";try{return new Date(e).toLocaleDateString()}catch{return"—"}}(e.agreedAt)}),a.jsx(l.Z,{variant:"body2",color:"text.secondary",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:200},children:e.agreedTerms??"—"})]},e.id))})})]})})}),(0,a.jsxs)(m.Z,{open:t,onClose:J,PaperProps:{sx:{borderRadius:2}},maxWidth:"sm",fullWidth:!0,children:[a.jsx(u.Z,{children:"Register provider"}),a.jsx(x.Z,{children:(0,a.jsxs)(o.Z,{spacing:2,sx:{pt:1},children:[a.jsx(h.Z,{label:"Name",required:!0,fullWidth:!0,value:w,onChange:e=>k(e.target.value),placeholder:"Provider or company name"}),a.jsx(h.Z,{label:"Email",type:"email",fullWidth:!0,value:A,onChange:e=>_(e.target.value),placeholder:"provider@example.com"}),a.jsx(h.Z,{label:"Agreed amount (NGN)",type:"number",inputProps:{min:0,step:1e3},fullWidth:!0,value:S,onChange:e=>N(e.target.value),placeholder:"e.g. 1000000",helperText:"Capital amount the provider is giving"}),a.jsx(h.Z,{label:"Agreed percentage (%)",type:"number",inputProps:{min:0,step:.5},fullWidth:!0,value:R,onChange:e=>W(e.target.value),placeholder:"e.g. 5",helperText:"Percentage added on their share of repayments"}),a.jsx(h.Z,{label:"Agreed date",type:"date",fullWidth:!0,value:D,onChange:e=>T(e.target.value),InputLabelProps:{shrink:!0}}),a.jsx(h.Z,{label:"Agreed terms / notes",multiline:!0,rows:3,fullWidth:!0,value:I,onChange:e=>E(e.target.value),placeholder:"Optional notes or terms"}),z.isError&&a.jsx(g.Z,{severity:"error",children:z.error.message})]})}),(0,a.jsxs)(f.Z,{sx:{px:3,pb:2},children:[a.jsx(c.Z,{onClick:J,children:"Cancel"}),a.jsx(c.Z,{variant:"contained",onClick:()=>{let e=w.trim();if(!e)return;let r=S.trim()?parseFloat(S):void 0;if(void 0!==r&&(isNaN(r)||r<0))return;let t=R.trim()?parseFloat(R):void 0;void 0!==t&&(isNaN(t)||t<0)||z.mutate({name:e,email:A.trim()||void 0,agreedAmount:r,percentageToAdd:t,agreedAt:D.trim()||void 0,agreedTerms:I.trim()||void 0},{onSuccess:()=>J()})},disabled:!w.trim()||z.isPending,sx:{backgroundColor:"#0b7b4c"},children:z.isPending?"Creating...":"Register"})]})]})]})}},2894:(e,r,t)=>{"use strict";t.d(r,{Z:()=>d});var a=t(326),s=t(5420),i=t(8464),n=t(541),o=t(7329),l=t(1728);function d({search:e,onSearchChange:r}){return(0,a.jsxs)(i.Z,{direction:{xs:"column",md:"row"},alignItems:{xs:"stretch",md:"center"},justifyContent:"space-between",spacing:2,sx:{marginBottom:3},children:[a.jsx(n.Z,{placeholder:"Search",value:e,onChange:e=>r(e.target.value),InputProps:{startAdornment:a.jsx(o.Z,{position:"start",children:a.jsx(s.Z,{sx:{color:"#97a6a0"}})})},sx:{width:{xs:"100%",sm:320,md:380},alignSelf:{xs:"stretch",md:"flex-start"},"& .MuiOutlinedInput-root":{backgroundColor:"#f3f3f3",borderRadius:999,"& fieldset":{border:"none"},"&:hover fieldset":{border:"none"},"&.Mui-focused fieldset":{border:"none"}}}}),a.jsx(l.Z,{})]})}},1034:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`/Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-admin/app/dashboard/providers/page.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[339,164,344,541,108,951,800,657,215,33],()=>t(9740));module.exports=a})();