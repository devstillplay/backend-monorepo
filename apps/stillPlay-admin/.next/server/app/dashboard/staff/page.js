(()=>{var e={};e.id=672,e.ids=[672],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},723:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d}),a(1493),a(3321),a(4752),a(5866);var r=a(3191),s=a(8716),i=a(7922),o=a.n(i),n=a(5231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);a.d(t,l);let d=["",{children:["dashboard",{children:["staff",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,1493)),"/Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-admin/app/dashboard/staff/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,3321)),"/Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-admin/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,4752)),"/Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-admin/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-admin/app/dashboard/staff/page.tsx"],p="/dashboard/staff/page",m={require:a,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/dashboard/staff/page",pathname:"/dashboard/staff",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3514:(e,t,a)=>{Promise.resolve().then(a.bind(a,8246))},8246:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>X});var r=a(326),s=a(4873),i=a(9069),o=a(1728),n=a(8464),l=a(274),d=a(8260),c=a(2265),p=a(8139),m=a(9995),u=a(8117),x=a(8591),f=a(541),g=a(3913),h=a(2313),b=a(4846),v=a(1367),y=a(5353),Z=a(7577),j=a(1135),C=a(8634),P=a(1190),k=a(1703),w=a(7080),I=a(2791),$=a(2992),S=a(5376),_=a(850),R=a(7382),M=a(3025),O=a(1685);let q=(0,O.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]),L=(0,O.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);var A=a(7898);function N(e){return(0,A.ZP)("MuiMenuItem",e)}let T=(0,O.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),W=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],B=e=>{let{disabled:t,dense:a,divider:r,disableGutters:s,selected:i,classes:o}=e,n=(0,C.Z)({root:["root",a&&"dense",t&&"disabled",!s&&"gutters",r&&"divider",i&&"selected"]},N,o);return(0,y.Z)({},o,n)},D=(0,k.ZP)(S.Z,{shouldForwardProp:e=>(0,w.Z)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]}})(({theme:e,ownerState:t})=>(0,y.Z)({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${T.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,P.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${T.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,P.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${T.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,P.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,P.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${T.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${T.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${M.Z.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${M.Z.inset}`]:{marginLeft:52},[`& .${L.root}`]:{marginTop:0,marginBottom:0},[`& .${L.inset}`]:{paddingLeft:36},[`& .${q.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&(0,y.Z)({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${q.root} svg`]:{fontSize:"1.25rem"}}))),F=Z.forwardRef(function(e,t){let a;let s=(0,I.i)({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:n=!1,divider:l=!1,disableGutters:d=!1,focusVisibleClassName:c,role:p="menuitem",tabIndex:m,className:u}=s,x=(0,v.Z)(s,W),f=Z.useContext($.Z),g=Z.useMemo(()=>({dense:n||f.dense||!1,disableGutters:d}),[f.dense,n,d]),h=Z.useRef(null);(0,_.Z)(()=>{i&&h.current&&h.current.focus()},[i]);let b=(0,y.Z)({},s,{dense:g.dense,divider:l,disableGutters:d}),C=B(s),P=(0,R.Z)(h,t);return s.disabled||(a=void 0!==m?m:-1),(0,r.jsx)($.Z.Provider,{value:g,children:(0,r.jsx)(D,(0,y.Z)({ref:P,role:p,tabIndex:a,component:o,focusVisibleClassName:(0,j.Z)(C.focusVisible,c),className:(0,j.Z)(C.root,u)},x,{ownerState:b,classes:C}))})});var E=a(9351),G=a(6277),z=a(5047),J=a(2241),V=a(2894),U=a(2972),Y=a(5653),H=a(5031);function X(){(0,z.useRouter)(),(0,Y.t)(e=>e.token);let[e,t]=(0,Z.useState)(""),[a,v]=(0,Z.useState)(!1),[y,j]=(0,Z.useState)(""),[C,P]=(0,Z.useState)(""),[k,w]=(0,Z.useState)(""),[I,$]=(0,Z.useState)(""),[S,_]=(0,Z.useState)(H.jY[0]),{data:R=[],isLoading:M,isError:O,error:q,refetch:L,isFetching:A}=(0,U.OL)(),N=(0,U.Cx)(),T=(0,Z.useMemo)(()=>{if(!e.trim())return R;let t=e.trim().toLowerCase();return R.filter(e=>e.firstName?.toLowerCase().includes(t)||e.lastName?.toLowerCase().includes(t)||e.email?.toLowerCase().includes(t)||e.employeeNumber?.toLowerCase().includes(t)||e.role?.toLowerCase().includes(t))},[R,e]),W=()=>{j(""),P(""),w(""),$(""),_(H.jY[0]),v(!1)};return(0,r.jsxs)(o.Z,{component:J.E.div,initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.45,ease:"easeOut"},children:[r.jsx(V.Z,{search:e,onSearchChange:t}),r.jsx(o.Z,{sx:{background:"#ffffff",borderRadius:{xs:0,md:2},padding:{xs:2,md:3.5},paddingBottom:{xs:3,md:4},marginTop:{xs:2,md:3},marginX:{xs:-2,md:0},minHeight:"calc(100vh - 220px)",display:"flex",flexDirection:"column"},children:r.jsx(n.Z,{spacing:2,children:(0,r.jsxs)(o.Z,{sx:{borderRadius:3,padding:2,backgroundColor:"#f3f3f3",display:"flex",flexDirection:"column"},children:[(0,r.jsxs)(n.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:1,sx:{marginBottom:2,paddingTop:2,paddingLeft:2},children:[r.jsx(l.Z,{variant:"h6",sx:{fontWeight:700},children:"STAFF"}),(0,r.jsxs)(n.Z,{direction:"row",spacing:1,children:[r.jsx(d.Z,{size:"small",onClick:()=>L(),disabled:A,"aria-label":"Refresh list",children:r.jsx(i.Z,{})}),r.jsx(c.Z,{variant:"contained",size:"small",startIcon:r.jsx(s.Z,{}),onClick:()=>v(!0),sx:{backgroundColor:"#0b7b4c"},children:"Create Admin Account"})]})]}),(0,r.jsxs)(o.Z,{sx:{fontSize:12,color:"text.secondary",marginBottom:2,backgroundColor:"#fff",borderRadius:999,paddingY:1.2,paddingX:3,display:{xs:"none",md:"grid"},gridTemplateColumns:{md:"1.5fr 1.2fr 0.9fr 1.2fr 0.6fr"},alignItems:"center",gap:1},children:[r.jsx(o.Z,{children:"Name"}),r.jsx(o.Z,{children:"Email"}),r.jsx(o.Z,{children:"Employee #"}),r.jsx(o.Z,{children:"Role"}),r.jsx(o.Z,{children:"Status"})]}),r.jsx(o.Z,{sx:{marginTop:1},children:M?(0,r.jsxs)(n.Z,{alignItems:"center",py:4,children:[r.jsx(p.Z,{sx:{color:"#0b7b4c"}}),r.jsx(l.Z,{variant:"body2",color:"text.secondary",sx:{mt:2},children:"Loading staff..."})]}):O?(0,r.jsxs)(n.Z,{alignItems:"center",py:4,spacing:2,children:[r.jsx(l.Z,{color:"error",children:q.message}),r.jsx(c.Z,{variant:"outlined",onClick:()=>L(),size:"small",children:"Retry"})]}):0===T.length?r.jsx(l.Z,{color:"text.secondary",sx:{py:4,textAlign:"center"},children:"No staff yet. Create an admin account to get started."}):r.jsx(n.Z,{spacing:0,children:T.map(e=>(0,r.jsxs)(o.Z,{sx:{paddingY:2,paddingX:{xs:2,md:3},borderBottom:"1px solid #fff",display:{xs:"flex",md:"grid"},flexDirection:{xs:"column",md:"unset"},gridTemplateColumns:{md:"1.5fr 1.2fr 0.9fr 1.2fr 0.6fr"},alignItems:"center",gap:{xs:1,md:1},backgroundColor:"#ffffff",borderRadius:1,"&:hover":{backgroundColor:"#fafafa"}},children:[r.jsx(l.Z,{variant:"body2",fontWeight:600,children:[e.firstName,e.lastName].filter(Boolean).join(" ")||"—"}),r.jsx(l.Z,{variant:"body2",color:"text.secondary",children:e.email??"—"}),r.jsx(l.Z,{variant:"body2",color:"text.secondary",children:e.employeeNumber??"—"}),r.jsx(l.Z,{variant:"body2",children:e.role??"—"}),r.jsx(l.Z,{variant:"body2",sx:{color:e.active?"#0b7b4c":"text.secondary",fontWeight:500},children:e.active?"Active":"Inactive"})]},e.id))})})]})})}),(0,r.jsxs)(m.Z,{open:a,onClose:W,PaperProps:{sx:{borderRadius:2}},maxWidth:"sm",fullWidth:!0,children:[r.jsx(u.Z,{children:"Create Admin Account"}),r.jsx(x.Z,{children:(0,r.jsxs)(n.Z,{spacing:2,sx:{pt:1},children:[r.jsx(f.Z,{label:"First name",required:!0,fullWidth:!0,value:y,onChange:e=>j(e.target.value),placeholder:"Jane"}),r.jsx(f.Z,{label:"Last name",required:!0,fullWidth:!0,value:C,onChange:e=>P(e.target.value),placeholder:"Doe"}),r.jsx(f.Z,{label:"Email",type:"email",required:!0,fullWidth:!0,value:k,onChange:e=>w(e.target.value),placeholder:"admin@example.com"}),r.jsx(f.Z,{label:"Password",type:"password",required:!0,fullWidth:!0,value:I,onChange:e=>$(e.target.value),placeholder:"••••••••"}),(0,r.jsxs)(g.Z,{fullWidth:!0,required:!0,children:[r.jsx(h.Z,{id:"staff-role-label",children:"Role"}),r.jsx(b.Z,{labelId:"staff-role-label",value:S,label:"Role",onChange:e=>_(e.target.value),children:H.jY.map(e=>r.jsx(F,{value:e,children:e},e))})]}),N.isError&&r.jsx(E.Z,{severity:"error",children:N.error.message})]})}),(0,r.jsxs)(G.Z,{sx:{px:3,pb:2},children:[r.jsx(c.Z,{onClick:W,children:"Cancel"}),r.jsx(c.Z,{variant:"contained",onClick:()=>{let e=y.trim(),t=C.trim(),a=k.trim();e&&t&&a&&I&&N.mutate({firstName:e,lastName:t,email:a,password:I,role:S},{onSuccess:()=>W()})},disabled:!y.trim()||!C.trim()||!k.trim()||!I||N.isPending,sx:{backgroundColor:"#0b7b4c"},children:N.isPending?"Creating...":"Create"})]})]})]})}},2894:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var r=a(326),s=a(5420),i=a(8464),o=a(541),n=a(7329),l=a(1728);function d({search:e,onSearchChange:t}){return(0,r.jsxs)(i.Z,{direction:{xs:"column",md:"row"},alignItems:{xs:"stretch",md:"center"},justifyContent:"space-between",spacing:2,sx:{marginBottom:3},children:[r.jsx(o.Z,{placeholder:"Search",value:e,onChange:e=>t(e.target.value),InputProps:{startAdornment:r.jsx(n.Z,{position:"start",children:r.jsx(s.Z,{sx:{color:"#97a6a0"}})})},sx:{width:{xs:"100%",sm:320,md:380},alignSelf:{xs:"stretch",md:"flex-start"},"& .MuiOutlinedInput-root":{backgroundColor:"#f3f3f3",borderRadius:999,"& fieldset":{border:"none"},"&:hover fieldset":{border:"none"},"&.Mui-focused fieldset":{border:"none"}}}}),r.jsx(l.Z,{})]})}},1493:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(8570).createProxy)(String.raw`/Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-admin/app/dashboard/staff/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[339,164,344,541,108,951,800,657,215,33],()=>a(723));module.exports=r})();