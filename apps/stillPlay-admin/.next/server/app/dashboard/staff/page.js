(()=>{var e={};e.id=672,e.ids=[672],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},723:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d}),s(81493),s(86400),s(84752),s(35866);var t=s(23191),r=s(88716),i=s(37922),o=s.n(i),l=s(95231),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);s.d(a,n);let d=["",{children:["dashboard",{children:["staff",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,81493)),"/Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-admin/app/dashboard/staff/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,86400)),"/Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-admin/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,84752)),"/Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-admin/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-admin/app/dashboard/staff/page.tsx"],p="/dashboard/staff/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/staff/page",pathname:"/dashboard/staff",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},13514:(e,a,s)=>{Promise.resolve().then(s.bind(s,48246))},48246:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>X});var t=s(10326),r=s(84873),i=s(99069),o=s(71728),l=s(88464),n=s(30274),d=s(48260),c=s(42265),p=s(98139),m=s(69995),u=s(98117),x=s(28591),h=s(90541),f=s(53913),g=s(12313),b=s(34846),v=s(91367),y=s(45353),j=s(17577),Z=s(41135),C=s(88634),k=s(11190),P=s(91703),w=s(27080),N=s(2791),S=s(92992),I=s(35376),$=s(69408),_=s(37382),R=s(73025),O=s(71685);let q=(0,O.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]),W=(0,O.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);var L=s(97898);function M(e){return(0,L.ZP)("MuiMenuItem",e)}let T=(0,O.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),A=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],B=e=>{let{disabled:a,dense:s,divider:t,disableGutters:r,selected:i,classes:o}=e,l=(0,C.Z)({root:["root",s&&"dense",a&&"disabled",!r&&"gutters",t&&"divider",i&&"selected"]},M,o);return(0,y.Z)({},o,l)},E=(0,P.ZP)(I.Z,{shouldForwardProp:e=>(0,w.Z)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,a)=>{let{ownerState:s}=e;return[a.root,s.dense&&a.dense,s.divider&&a.divider,!s.disableGutters&&a.gutters]}})(({theme:e,ownerState:a})=>(0,y.Z)({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${T.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,k.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${T.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,k.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${T.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,k.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,k.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${T.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${T.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${R.Z.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${R.Z.inset}`]:{marginLeft:52},[`& .${W.root}`]:{marginTop:0,marginBottom:0},[`& .${W.inset}`]:{paddingLeft:36},[`& .${q.root}`]:{minWidth:36}},!a.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},a.dense&&(0,y.Z)({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${q.root} svg`]:{fontSize:"1.25rem"}}))),F=j.forwardRef(function(e,a){let s;let r=(0,N.i)({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:l=!1,divider:n=!1,disableGutters:d=!1,focusVisibleClassName:c,role:p="menuitem",tabIndex:m,className:u}=r,x=(0,v.Z)(r,A),h=j.useContext(S.Z),f=j.useMemo(()=>({dense:l||h.dense||!1,disableGutters:d}),[h.dense,l,d]),g=j.useRef(null);(0,$.Z)(()=>{i&&g.current&&g.current.focus()},[i]);let b=(0,y.Z)({},r,{dense:f.dense,divider:n,disableGutters:d}),C=B(r),k=(0,_.Z)(g,a);return r.disabled||(s=void 0!==m?m:-1),(0,t.jsx)(S.Z.Provider,{value:f,children:(0,t.jsx)(E,(0,y.Z)({ref:k,role:p,tabIndex:s,component:o,focusVisibleClassName:(0,Z.Z)(C.focusVisible,c),className:(0,Z.Z)(C.root,u)},x,{ownerState:b,classes:C}))})});var D=s(59351),z=s(10163),G=s(35047),J=s(2241),V=s(72894),Y=s(92972),H=s(15653),U=s(5031);function X(){(0,G.useRouter)(),(0,H.t)(e=>e.token);let[e,a]=(0,j.useState)(""),[s,v]=(0,j.useState)(!1),[y,Z]=(0,j.useState)(""),[C,k]=(0,j.useState)(""),[P,w]=(0,j.useState)(""),[N,S]=(0,j.useState)(""),[I,$]=(0,j.useState)(U.jY[0]),{data:_=[],isLoading:R,isError:O,error:q,refetch:W,isFetching:L}=(0,Y.OL)(),M=(0,Y.Cx)(),T=(0,j.useMemo)(()=>{if(!e.trim())return _;let a=e.trim().toLowerCase();return _.filter(e=>e.firstName?.toLowerCase().includes(a)||e.lastName?.toLowerCase().includes(a)||e.email?.toLowerCase().includes(a)||e.employeeNumber?.toLowerCase().includes(a)||e.role?.toLowerCase().includes(a))},[_,e]),A=()=>{Z(""),k(""),w(""),S(""),$(U.jY[0]),v(!1)};return(0,t.jsxs)(o.Z,{component:J.E.div,initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.45,ease:"easeOut"},children:[t.jsx(V.Z,{search:e,onSearchChange:a}),t.jsx(o.Z,{sx:{background:"#ffffff",borderRadius:{xs:0,md:2},padding:{xs:2,md:3.5},paddingBottom:{xs:3,md:4},marginTop:{xs:2,md:3},marginX:{xs:-2,md:0},minHeight:"calc(100vh - 220px)",display:"flex",flexDirection:"column"},children:t.jsx(l.Z,{spacing:2,children:(0,t.jsxs)(o.Z,{sx:{borderRadius:3,padding:2,backgroundColor:"#f3f3f3",display:"flex",flexDirection:"column"},children:[(0,t.jsxs)(l.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:1,sx:{marginBottom:2,paddingTop:2,paddingLeft:{xs:1,md:2}},children:[t.jsx(n.Z,{variant:"h6",sx:{fontWeight:700,fontSize:{xs:"1rem",md:"1.25rem"}},children:"STAFF"}),(0,t.jsxs)(l.Z,{direction:"row",spacing:1,flexWrap:"wrap",children:[t.jsx(d.Z,{size:"small",onClick:()=>W(),disabled:L,"aria-label":"Refresh list",children:t.jsx(i.Z,{})}),t.jsx(c.Z,{variant:"contained",size:"small",startIcon:t.jsx(r.Z,{}),onClick:()=>v(!0),sx:{backgroundColor:"#0b7b4c"},children:"Create Admin Account"})]})]}),(0,t.jsxs)(o.Z,{sx:{fontSize:12,color:"text.secondary",marginBottom:2,backgroundColor:"#fff",borderRadius:999,paddingY:1.2,paddingX:3,display:{xs:"none",md:"grid"},gridTemplateColumns:{md:"1.5fr 1.2fr 0.9fr 1.2fr 0.6fr"},alignItems:"center",gap:1},children:[t.jsx(o.Z,{children:"Name"}),t.jsx(o.Z,{children:"Email"}),t.jsx(o.Z,{children:"Employee #"}),t.jsx(o.Z,{children:"Role"}),t.jsx(o.Z,{children:"Status"})]}),t.jsx(o.Z,{sx:{marginTop:1,overflowX:{xs:"auto",md:"visible"},overflowY:{xs:"auto",md:"visible"},maxHeight:{xs:"70vh",md:"none"},WebkitOverflowScrolling:"touch"},children:R?(0,t.jsxs)(l.Z,{alignItems:"center",py:4,children:[t.jsx(p.Z,{sx:{color:"#0b7b4c"}}),t.jsx(n.Z,{variant:"body2",color:"text.secondary",sx:{mt:2},children:"Loading staff..."})]}):O?(0,t.jsxs)(l.Z,{alignItems:"center",py:4,spacing:2,children:[t.jsx(n.Z,{color:"error",children:q.message}),t.jsx(c.Z,{variant:"outlined",onClick:()=>W(),size:"small",children:"Retry"})]}):0===T.length?t.jsx(n.Z,{color:"text.secondary",sx:{py:4,textAlign:"center"},children:"No staff yet. Create an admin account to get started."}):t.jsx(l.Z,{spacing:{xs:1.5,md:0},children:T.map(e=>(0,t.jsxs)(o.Z,{sx:{paddingY:{xs:1.5,md:2},paddingX:{xs:2,md:3},borderBottom:{xs:"none",md:"1px solid #fff"},display:{xs:"block",md:"grid"},gridTemplateColumns:{md:"1.5fr 1.2fr 0.9fr 1.2fr 0.6fr"},alignItems:{md:"center"},gap:{md:1},backgroundColor:"#ffffff",borderRadius:{xs:2,md:1},border:{xs:"1px solid",md:"none"},borderColor:{xs:"divider",md:"transparent"},"&:hover":{backgroundColor:"#fafafa"}},children:[(0,t.jsxs)(o.Z,{sx:{display:{xs:"grid",md:"none"},gridTemplateColumns:"100px 1fr",gap:"4px 12px",alignItems:"baseline","& > .label":{color:"text.secondary",fontSize:"0.75rem"},"& > .value":{fontSize:"0.875rem",wordBreak:"break-word"}},children:[t.jsx("span",{className:"label",children:"Name"}),t.jsx("span",{className:"value",style:{fontWeight:600},children:[e.firstName,e.lastName].filter(Boolean).join(" ")||"—"}),t.jsx("span",{className:"label",children:"Email"}),t.jsx("span",{className:"value",children:e.email??"—"}),t.jsx("span",{className:"label",children:"Employee #"}),t.jsx("span",{className:"value",children:e.employeeNumber??"—"}),t.jsx("span",{className:"label",children:"Role"}),t.jsx("span",{className:"value",children:e.role??"—"}),t.jsx("span",{className:"label",children:"Status"}),t.jsx("span",{className:"value",style:{color:e.active?"#0b7b4c":void 0,fontWeight:500},children:e.active?"Active":"Inactive"})]}),(0,t.jsxs)(t.Fragment,{children:[t.jsx(o.Z,{sx:{display:{xs:"none",md:"block"}},children:t.jsx(n.Z,{variant:"body2",fontWeight:600,children:[e.firstName,e.lastName].filter(Boolean).join(" ")||"—"})}),t.jsx(o.Z,{sx:{display:{xs:"none",md:"block"}},children:t.jsx(n.Z,{variant:"body2",color:"text.secondary",children:e.email??"—"})}),t.jsx(o.Z,{sx:{display:{xs:"none",md:"block"}},children:t.jsx(n.Z,{variant:"body2",color:"text.secondary",children:e.employeeNumber??"—"})}),t.jsx(o.Z,{sx:{display:{xs:"none",md:"block"}},children:t.jsx(n.Z,{variant:"body2",children:e.role??"—"})}),t.jsx(o.Z,{sx:{display:{xs:"none",md:"block"}},children:t.jsx(n.Z,{variant:"body2",sx:{color:e.active?"#0b7b4c":"text.secondary",fontWeight:500},children:e.active?"Active":"Inactive"})})]})]},e.id))})})]})})}),(0,t.jsxs)(m.Z,{open:s,onClose:A,PaperProps:{sx:{borderRadius:2}},maxWidth:"sm",fullWidth:!0,children:[t.jsx(u.Z,{children:"Create Admin Account"}),t.jsx(x.Z,{children:(0,t.jsxs)(l.Z,{spacing:2,sx:{pt:1},children:[t.jsx(h.Z,{label:"First name",required:!0,fullWidth:!0,value:y,onChange:e=>Z(e.target.value),placeholder:"Jane"}),t.jsx(h.Z,{label:"Last name",required:!0,fullWidth:!0,value:C,onChange:e=>k(e.target.value),placeholder:"Doe"}),t.jsx(h.Z,{label:"Email",type:"email",required:!0,fullWidth:!0,value:P,onChange:e=>w(e.target.value),placeholder:"admin@example.com"}),t.jsx(h.Z,{label:"Password",type:"password",required:!0,fullWidth:!0,value:N,onChange:e=>S(e.target.value),placeholder:"••••••••"}),(0,t.jsxs)(f.Z,{fullWidth:!0,required:!0,children:[t.jsx(g.Z,{id:"staff-role-label",children:"Role"}),t.jsx(b.Z,{labelId:"staff-role-label",value:I,label:"Role",onChange:e=>$(e.target.value),children:U.jY.map(e=>t.jsx(F,{value:e,children:e},e))})]}),M.isError&&t.jsx(D.Z,{severity:"error",children:M.error.message})]})}),(0,t.jsxs)(z.Z,{sx:{px:3,pb:2},children:[t.jsx(c.Z,{onClick:A,children:"Cancel"}),t.jsx(c.Z,{variant:"contained",onClick:()=>{let e=y.trim(),a=C.trim(),s=P.trim();e&&a&&s&&N&&M.mutate({firstName:e,lastName:a,email:s,password:N,role:I},{onSuccess:()=>A()})},disabled:!y.trim()||!C.trim()||!P.trim()||!N||M.isPending,sx:{backgroundColor:"#0b7b4c"},children:M.isPending?"Creating...":"Create"})]})]})]})}},81493:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});let t=(0,s(68570).createProxy)(String.raw`/Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-admin/app/dashboard/staff/page.tsx#default`)}};var a=require("../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[898,14,761,108,608,800,215,668,437],()=>s(723));module.exports=t})();