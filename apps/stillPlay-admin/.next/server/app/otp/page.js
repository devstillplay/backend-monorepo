(()=>{var e={};e.id=636,e.ids=[636],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6775:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>m,tree:()=>c}),n(2155),n(4752),n(5866);var r=n(3191),o=n(8716),i=n(7922),a=n.n(i),l=n(5231),s={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(s[e]=()=>l[e]);n.d(t,s);let c=["",{children:["otp",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,2155)),"/Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-admin/app/otp/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(n.bind(n,4752)),"/Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-admin/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,5866,23)),"next/dist/client/components/not-found-error"]}],u=["/Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-admin/app/otp/page.tsx"],d="/otp/page",p={require:n,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/otp/page",pathname:"/otp",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6537:(e,t,n)=>{Promise.resolve().then(n.bind(n,2352))},2352:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var r=n(326),o=n(8464),i=n(1728),a=n(274),l=n(2265),s=n(9351),c=n(119),u=n(5047),d=n(7577),p=n(1439),m=n(232),f=n(5031),g=n(2972),v=n(5653),h=n(8907);function y(){let e=(0,u.useRouter)(),t=(0,u.useSearchParams)().get("flow")??"login",{otpEmail:n,otpExpiresAt:y,status:x,setAuthenticated:b,reset:j,fullName:Z}=(0,v.t)(),S=(0,h.LM)(e=>e.setProfile);(0,h.LM)(e=>e.reset);let[P,C]=(0,d.useState)(""),[k,A]=(0,d.useState)(0),w=(0,d.useMemo)(()=>{let e=Math.floor(k/1e3),t=String(Math.floor(e/60)).padStart(2,"0"),n=String(e%60).padStart(2,"0");return`${t}:${n}`},[k]),M=(0,c.D)({mutationFn:()=>(0,f.VP)({type:"register"===t?"register":"login",email:n??"",code:P}),onSuccess:t=>{let r=t.user?{id:t.user.id,email:t.user.email,role:t.user.role,firstName:t.user.firstName,lastName:t.user.lastName,picture:t.user.picture??null}:{id:"",email:n??"",role:"admin",firstName:Z?.split(" ")[0],lastName:Z?.split(" ").slice(1).join(" ")};b(t.token,r),S({...r}),(0,g.bA)({action:"Logged in"}),e.push("/dashboard")}}),L=(0,d.useCallback)(()=>{n&&e.push("/")},[n,e]),I=(0,d.useCallback)((e,t)=>r.jsx("input",{...e,style:{width:56,height:56,textAlign:"center",fontSize:20,fontWeight:600,border:"none",borderRadius:8,backgroundColor:"#f2f2f2",outline:"none"}}),[]);return r.jsx(m.Z,{children:(0,r.jsxs)(o.Z,{spacing:3,sx:{width:"100%",alignItems:"center"},children:[(0,r.jsxs)(i.Z,{children:[r.jsx(a.Z,{variant:"h4",children:"OTP"}),r.jsx(a.Z,{variant:"body2",sx:{color:"text.secondary"},children:"We've sent you a 4-digit code to your email."})]}),r.jsx(i.Z,{component:"form",onSubmit:e=>{e.preventDefault(),n&&4===P.length&&M.mutate()},children:(0,r.jsxs)(o.Z,{spacing:3,alignItems:"center",children:[r.jsx(p.Z,{value:P,onChange:C,numInputs:4,renderInput:I,inputType:"number",shouldAutoFocus:!0,containerStyle:{gap:12}}),(0,r.jsxs)(o.Z,{direction:"row",spacing:2,alignItems:"center",children:[(0,r.jsxs)(a.Z,{variant:"body2",color:"text.secondary",children:["Code expires in ",w]}),r.jsx(l.Z,{variant:"text",color:"secondary",size:"small",onClick:L,children:"Send again"})]}),M.isError?r.jsx(s.Z,{severity:"error",children:M.error.message}):null,r.jsx(l.Z,{type:"submit",variant:"contained",size:"large",disabled:M.isPending||4!==P.length,sx:{backgroundColor:"#0b7b4c"},children:M.isPending?"Verifying...":"Confirm"})]})})]})})}function x(){return r.jsx(d.Suspense,{fallback:r.jsx(m.Z,{children:r.jsx(i.Z,{sx:{py:4,textAlign:"center"},children:r.jsx(a.Z,{color:"text.secondary",children:"Loading..."})})}),children:r.jsx(y,{})})}},232:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(326),o=n(1728),i=n(2241);function a(){return r.jsx(o.Z,{component:i.E.div,initial:{backgroundPosition:"0% 50%"},animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:7,repeat:1/0,ease:"linear"},sx:{position:"relative",display:{xs:"none",md:"flex"},alignItems:"center",justifyContent:"center",backgroundImage:"linear-gradient(135deg, #f0b12a 0%, #0b7b4c 55%, #f0b12a 100%)",backgroundSize:"200% 200%"},children:r.jsx(o.Z,{component:i.E.img,src:"/assets/svg/STILL PLAYLOGOWH.svg",alt:"Still Play",initial:{opacity:0,y:12,scale:.98},animate:{opacity:1,y:0,scale:1},transition:{duration:.6,ease:"easeOut"},sx:{width:{xs:140,md:180},height:"auto"}})})}function l({children:e}){return r.jsx(o.Z,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",padding:0},children:(0,r.jsxs)(o.Z,{sx:{width:"100%",minHeight:"100vh",background:"#fff",borderRadius:0,overflow:"hidden",display:"grid",gridTemplateColumns:{xs:"1fr",md:"40% 60%"}},children:[r.jsx(a,{}),r.jsx(o.Z,{sx:{padding:{xs:3,md:6},display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(o.Z,{component:i.E.div,initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},sx:{width:"100%",maxWidth:680},children:e})})]})})}},2972:(e,t,n)=>{"use strict";n.d(t,{Cx:()=>y,OL:()=>h,Rm:()=>u,Y7:()=>f,bA:()=>m,ez:()=>v,hV:()=>d,ko:()=>g,yf:()=>p});var r=n(108),o=n(4976),i=n(119),a=n(5653),l=n(5031);let s={all:["admin"],users:()=>[...s.all,"users"],user:e=>[...s.users(),e],employees:()=>[...s.all,"employees"],activity:()=>[...s.all,"activity"]},c={all:["providers"],list:()=>[...c.all,"list"]};function u(){let e=(0,a.t)(e=>e.token);return(0,r.a)({queryKey:s.users(),queryFn:()=>(0,l.zO)(e),enabled:!!e,refetchOnWindowFocus:!0,staleTime:6e4})}function d(){let e=(0,a.t)(e=>e.token),t=(0,o.NL)();return(0,i.D)({mutationFn:({id:t,payload:n})=>(0,l.vr)(e,t,n),onSuccess:()=>{t.invalidateQueries({queryKey:s.users()})}})}function p(e){let t=(0,a.t)(e=>e.token);return(0,r.a)({queryKey:[...s.activity(),e??50],queryFn:()=>(0,l.Cy)(t,e),enabled:!!t,staleTime:3e4})}function m(e){let t=a.t.getState().token;t&&(0,l.BX)(t,e).catch(()=>{})}function f(){let e=(0,a.t)(e=>e.token),t=(0,o.NL)();return(0,i.D)({mutationFn:t=>(0,l.Er)(e,t),onSuccess:()=>{t.invalidateQueries({queryKey:s.users()})}})}function g(){let e=(0,a.t)(e=>e.token);return(0,r.a)({queryKey:c.list(),queryFn:()=>(0,l.xp)(e),enabled:!!e,refetchOnWindowFocus:!0,staleTime:6e4})}function v(){let e=(0,a.t)(e=>e.token),t=(0,o.NL)();return(0,i.D)({mutationFn:t=>(0,l.Qz)(e,t),onSuccess:()=>{t.invalidateQueries({queryKey:c.list()})}})}function h(){let e=(0,a.t)(e=>e.token);return(0,r.a)({queryKey:s.employees(),queryFn:()=>(0,l.vG)(e),enabled:!!e,refetchOnWindowFocus:!0,staleTime:6e4})}function y(){let e=(0,a.t)(e=>e.token),t=(0,o.NL)();return(0,i.D)({mutationFn:t=>(0,l.r8)(e,t),onSuccess:()=>{t.invalidateQueries({queryKey:s.employees()})}})}},9351:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var r=n(1367),o=n(5353),i=n(7577),a=n(1135),l=n(8634),s=n(1190),c=n(1703),u=n(2791),d=n(1121),p=n(4641),m=n(893),f=n(1685),g=n(7898);function v(e){return(0,g.ZP)("MuiAlert",e)}let h=(0,f.Z)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);var y=n(8260),x=n(1426),b=n(326);let j=(0,x.Z)((0,b.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),Z=(0,x.Z)((0,b.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),S=(0,x.Z)((0,b.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),P=(0,x.Z)((0,b.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),C=(0,x.Z)((0,b.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),k=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],A=e=>{let{variant:t,color:n,severity:r,classes:o}=e,i={root:["root",`color${(0,p.Z)(n||r)}`,`${t}${(0,p.Z)(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return(0,l.Z)(i,v,o)},w=(0,c.ZP)(m.Z,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${(0,p.Z)(n.color||n.severity)}`]]}})(({theme:e})=>{let t="light"===e.palette.mode?s._j:s.$n,n="light"===e.palette.mode?s.$n:s._j;return(0,o.Z)({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(([,e])=>e.main&&e.light).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${r}Color`]:t(e.palette[r].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${r}StandardBg`]:n(e.palette[r].light,.9),[`& .${h.icon}`]:e.vars?{color:e.vars.palette.Alert[`${r}IconColor`]}:{color:e.palette[r].main}}})),...Object.entries(e.palette).filter(([,e])=>e.main&&e.light).map(([n])=>({props:{colorSeverity:n,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${n}Color`]:t(e.palette[n].light,.6),border:`1px solid ${(e.vars||e).palette[n].light}`,[`& .${h.icon}`]:e.vars?{color:e.vars.palette.Alert[`${n}IconColor`]}:{color:e.palette[n].main}}})),...Object.entries(e.palette).filter(([,e])=>e.main&&e.dark).map(([t])=>({props:{colorSeverity:t,variant:"filled"},style:(0,o.Z)({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${t}FilledColor`],backgroundColor:e.vars.palette.Alert[`${t}FilledBg`]}:{backgroundColor:"dark"===e.palette.mode?e.palette[t].dark:e.palette[t].main,color:e.palette.getContrastText(e.palette[t].main)})}))]})}),M=(0,c.ZP)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),L=(0,c.ZP)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),I=(0,c.ZP)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),D={success:(0,b.jsx)(j,{fontSize:"inherit"}),warning:(0,b.jsx)(Z,{fontSize:"inherit"}),error:(0,b.jsx)(S,{fontSize:"inherit"}),info:(0,b.jsx)(P,{fontSize:"inherit"})},N=i.forwardRef(function(e,t){let n=(0,u.i)({props:e,name:"MuiAlert"}),{action:i,children:l,className:s,closeText:c="Close",color:p,components:m={},componentsProps:f={},icon:g,iconMapping:v=D,onClose:h,role:x="alert",severity:j="success",slotProps:Z={},slots:S={},variant:P="standard"}=n,N=(0,r.Z)(n,k),z=(0,o.Z)({},n,{color:p,severity:j,variant:P,colorSeverity:p||j}),O=A(z),_={slots:(0,o.Z)({closeButton:m.CloseButton,closeIcon:m.CloseIcon},S),slotProps:(0,o.Z)({},f,Z)},[q,$]=(0,d.Z)("closeButton",{elementType:y.Z,externalForwardedProps:_,ownerState:z}),[E,F]=(0,d.Z)("closeIcon",{elementType:C,externalForwardedProps:_,ownerState:z});return(0,b.jsxs)(w,(0,o.Z)({role:x,elevation:0,ownerState:z,className:(0,a.Z)(O.root,s),ref:t},N,{children:[!1!==g?(0,b.jsx)(M,{ownerState:z,className:O.icon,children:g||v[j]||D[j]}):null,(0,b.jsx)(L,{ownerState:z,className:O.message,children:l}),null!=i?(0,b.jsx)(I,{ownerState:z,className:O.action,children:i}):null,null==i&&h?(0,b.jsx)(I,{ownerState:z,className:O.action,children:(0,b.jsx)(q,(0,o.Z)({size:"small","aria-label":c,title:c,color:"inherit",onClick:h},$,{children:(0,b.jsx)(E,(0,o.Z)({fontSize:"small"},F))}))}):null]}))})},1439:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(7577),o=n.n(r),i=function(e){return"object"==typeof e&&null!==e},a=function(e){var t=e.value,n=void 0===t?"":t,r=e.numInputs,a=void 0===r?4:r,l=e.onChange,s=e.onPaste,c=e.renderInput,u=e.shouldAutoFocus,d=void 0!==u&&u,p=e.inputType,m=void 0===p?"text":p,f=e.renderSeparator,g=e.placeholder,v=e.containerStyle,h=e.inputStyle,y=e.skipDefaultStyles,x=void 0!==y&&y,b=o().useState(0),j=b[0],Z=b[1],S=o().useRef([]),P=function(){return n?n.toString().split(""):[]},C="number"===m||"tel"===m;o().useEffect(function(){S.current=S.current.slice(0,a)},[a]),o().useEffect(function(){var e;d&&(null===(e=S.current[0])||void 0===e||e.focus())},[d]);var k=function(){if("string"==typeof g){if(g.length===a)return g;g.length>0&&console.error("Length of the placeholder should be equal to the number of inputs.")}},A=function(e){return(C?!isNaN(Number(e)):"string"==typeof e)&&1===e.trim().length},w=function(e){var t=e.target.value;A(t)&&(N(t),D(j+1))},M=function(e){var t=e.nativeEvent,n=e.target.value;A(n)||(n.length!==a||n.split("").some(function(e){return!A(e)})||(z(n.split("")),D(a-1)),null===t.data&&"deleteContentBackward"===t.inputType&&(e.preventDefault(),N(""),D(j-1)),e.target.value="")},L=function(){Z(j-1)},I=function(e){var t=P();[e.code,e.key].includes("Backspace")?(e.preventDefault(),N(""),D(j-1)):"Delete"===e.code?(e.preventDefault(),N("")):"ArrowLeft"===e.code?(e.preventDefault(),D(j-1)):"ArrowRight"===e.code?(e.preventDefault(),D(j+1)):e.key===t[j]?(e.preventDefault(),D(j+1)):("Spacebar"===e.code||"Space"===e.code||"ArrowUp"===e.code||"ArrowDown"===e.code)&&e.preventDefault()},D=function(e){var t,n,r=Math.max(Math.min(a-1,e),0);S.current[r]&&(null===(t=S.current[r])||void 0===t||t.focus(),null===(n=S.current[r])||void 0===n||n.select(),Z(r))},N=function(e){var t=P();t[j]=e[0],z(t)},z=function(e){l(e.join(""))},O=function(e){e.preventDefault();var t,n=P(),r=j,o=e.clipboardData.getData("text/plain").slice(0,a-j).split("");if(!(C&&o.some(function(e){return isNaN(Number(e))}))){for(var i=0;i<a;++i)i>=j&&o.length>0&&(n[i]=null!==(t=o.shift())&&void 0!==t?t:"",r++);D(r),z(n)}};return o().createElement("div",{style:Object.assign({display:"flex",alignItems:"center"},i(v)&&v),className:"string"==typeof v?v:void 0,onPaste:s},Array.from({length:a},function(e,t){return t}).map(function(e){var t,n,r;return o().createElement(o().Fragment,{key:e},c({value:null!==(t=P()[e])&&void 0!==t?t:"",placeholder:null!==(r=null===(n=k())||void 0===n?void 0:n[e])&&void 0!==r?r:void 0,ref:function(t){return S.current[e]=t},onChange:w,onFocus:function(t){Z(e),t.target.select()},onBlur:L,onKeyDown:I,onPaste:O,autoComplete:"off","aria-label":"Please enter OTP character ".concat(e+1),style:Object.assign(x?{}:{width:"1em",textAlign:"center"},i(h)?h:{}),className:"string"==typeof h?h:void 0,type:m,inputMode:C?"numeric":"text",onInput:M},e),e<a-1&&("function"==typeof f?f(e):f))}))}},2155:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});let r=(0,n(8570).createProxy)(String.raw`/Users/adamabdullahi/Documents/Js_portfolio/stillPlay/microservices/my-workspace/apps/stillPlay-admin/app/otp/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[339,164,108,215],()=>n(6775));module.exports=r})();